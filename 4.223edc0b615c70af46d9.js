(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{zljH:function(e,t,n){"use strict";n.r(t),n.d(t,"PageModule",function(){return _t});var i=n("rDax"),a=n("ofXK"),o=n("fXoL"),s=n("FKr1"),r=n("kmnG"),c=n("vxfF"),l=n("u47x"),h=n("8LU1"),d=n("0EQZ"),b=n("FtGj"),p=n("XNiG"),u=n("NXyV"),m=n("VRyK"),g=n("JX91"),f=n("eIep"),_=n("IzEk"),v=n("pLZG"),O=n("lJxs"),y=n("/uUt"),C=n("1G5W"),S=n("R0Ic"),w=n("cH1L"),k=n("3Pt+");const M=["trigger"],T=["panel"];function x(e,t){if(1&e&&(o.Tb(0,"span",8),o.yc(1),o.Sb()),2&e){const e=o.ec();o.Bb(1),o.zc(e.placeholder)}}function P(e,t){if(1&e&&(o.Tb(0,"span",12),o.yc(1),o.Sb()),2&e){const e=o.ec(2);o.Bb(1),o.zc(e.triggerValue)}}function j(e,t){1&e&&o.hc(0,0,["*ngSwitchCase","true"])}function I(e,t){if(1&e&&(o.Tb(0,"span",9),o.wc(1,P,2,1,"span",10),o.wc(2,j,1,0,"ng-content",11),o.Sb()),2&e){const e=o.ec();o.jc("ngSwitch",!!e.customTrigger),o.Bb(2),o.jc("ngSwitchCase",!0)}}function A(e,t){if(1&e){const e=o.Ub();o.Tb(0,"div",13),o.Tb(1,"div",14,15),o.ac("@transformPanel.done",function(t){return o.qc(e),o.ec()._panelDoneAnimatingStream.next(t.toState)})("keydown",function(t){return o.qc(e),o.ec()._handleKeydown(t)}),o.hc(3,1),o.Sb(),o.Sb()}if(2&e){const e=o.ec();o.jc("@transformPanelWrap",void 0),o.Bb(1),o.Eb("mat-select-panel ",e._getPanelTheme(),""),o.tc("transform-origin",e._transformOrigin)("font-size",e._triggerFontSize,"px"),o.jc("ngClass",e.panelClass)("@transformPanel",e.multiple?"showing-multiple":"showing"),o.Cb("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}const D=[[["mat-select-trigger"]],"*"],B=["mat-select-trigger","*"],V={transformPanelWrap:Object(S.n)("transformPanelWrap",[Object(S.m)("* => void",Object(S.i)("@transformPanel",[Object(S.f)()],{optional:!0}))]),transformPanel:Object(S.n)("transformPanel",[Object(S.k)("void",Object(S.l)({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),Object(S.k)("showing",Object(S.l)({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),Object(S.k)("showing-multiple",Object(S.l)({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),Object(S.m)("void => *",Object(S.e)("120ms cubic-bezier(0, 0, 0.2, 1)")),Object(S.m)("* => void",Object(S.e)("100ms 25ms linear",Object(S.l)({opacity:0})))])};let L=0;const R=256,N=new o.r("mat-select-scroll-strategy"),F=new o.r("MAT_SELECT_CONFIG"),E={provide:N,deps:[i.c],useFactory:function(e){return()=>e.scrollStrategies.reposition()}};class z{constructor(e,t){this.source=e,this.value=t}}class K{constructor(e,t,n,i,a){this._elementRef=e,this._defaultErrorStateMatcher=t,this._parentForm=n,this._parentFormGroup=i,this.ngControl=a}}const q=Object(s.t)(Object(s.w)(Object(s.u)(Object(s.v)(K)))),G=new o.r("MatSelectTrigger");let W=(()=>{class e extends q{constructor(e,t,n,i,a,s,r,c,l,h,d,b,y,C){var S,w,k;super(a,i,r,c,h),this._viewportRuler=e,this._changeDetectorRef=t,this._ngZone=n,this._dir=s,this._parentFormField=l,this.ngControl=h,this._liveAnnouncer=y,this._defaultOptions=C,this._panelOpen=!1,this._compareWith=(e,t)=>e===t,this._uid="mat-select-"+L++,this._triggerAriaLabelledBy=null,this._destroy=new p.a,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+L++,this._panelDoneAnimatingStream=new p.a,this._overlayPanelClass=(null===(S=this._defaultOptions)||void 0===S?void 0:S.overlayPanelClass)||"",this._focused=!1,this.controlType="mat-select",this._required=!1,this._multiple=!1,this._disableOptionCentering=null!==(k=null===(w=this._defaultOptions)||void 0===w?void 0:w.disableOptionCentering)&&void 0!==k&&k,this.ariaLabel="",this.optionSelectionChanges=Object(u.a)(()=>{const e=this.options;return e?e.changes.pipe(Object(g.a)(e),Object(f.a)(()=>Object(m.a)(...e.map(e=>e.onSelectionChange)))):this._ngZone.onStable.pipe(Object(_.a)(1),Object(f.a)(()=>this.optionSelectionChanges))}),this.openedChange=new o.n,this._openedStream=this.openedChange.pipe(Object(v.a)(e=>e),Object(O.a)(()=>{})),this._closedStream=this.openedChange.pipe(Object(v.a)(e=>!e),Object(O.a)(()=>{})),this.selectionChange=new o.n,this.valueChange=new o.n,this.ngControl&&(this.ngControl.valueAccessor=this),null!=(null==C?void 0:C.typeaheadDebounceInterval)&&(this._typeaheadDebounceInterval=C.typeaheadDebounceInterval),this._scrollStrategyFactory=b,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(d)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){return this._required}set required(e){this._required=Object(h.b)(e),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._multiple=Object(h.b)(e)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(e){this._disableOptionCentering=Object(h.b)(e)}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){e!==this._value&&(this.options&&this._setSelectionByValue(e),this._value=e)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(e){this._typeaheadDebounceInterval=Object(h.e)(e)}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new d.b(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(Object(y.a)(),Object(C.a)(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(Object(C.a)(this._destroy)).subscribe(e=>{e.added.forEach(e=>e.select()),e.removed.forEach(e=>e.deselect())}),this.options.changes.pipe(Object(g.a)(null),Object(C.a)(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const e=this._getTriggerAriaLabelledby();if(e!==this._triggerAriaLabelledBy){const t=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?t.setAttribute("aria-labelledby",e):t.removeAttribute("aria-labelledby")}this.ngControl&&this.updateErrorState()}ngOnChanges(e){e.disabled&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(e){this.value=e}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel.selected:this._selectionModel.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const e=this._selectionModel.selected.map(e=>e.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){const t=e.keyCode,n=t===b.b||t===b.n||t===b.g||t===b.k,i=t===b.d||t===b.l,a=this._keyManager;if(!a.isTyping()&&i&&!Object(b.q)(e)||(this.multiple||e.altKey)&&n)e.preventDefault(),this.open();else if(!this.multiple){const t=this.selected;a.onKeydown(e);const n=this.selected;n&&t!==n&&this._liveAnnouncer.announce(n.viewValue,1e4)}}_handleOpenKeydown(e){const t=this._keyManager,n=e.keyCode,i=n===b.b||n===b.n,a=t.isTyping();if(i&&e.altKey)e.preventDefault(),this.close();else if(a||n!==b.d&&n!==b.l||!t.activeItem||Object(b.q)(e))if(!a&&this._multiple&&n===b.a&&e.ctrlKey){e.preventDefault();const t=this.options.some(e=>!e.disabled&&!e.selected);this.options.forEach(e=>{e.disabled||(t?e.select():e.deselect())})}else{const n=t.activeItemIndex;t.onKeydown(e),this._multiple&&i&&e.shiftKey&&t.activeItem&&t.activeItemIndex!==n&&t.activeItem._selectViaInteraction()}else e.preventDefault(),t.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this.disabled||this.panelOpen||(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this.overlayDir.positionChange.pipe(Object(_.a)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?"mat-"+this._parentFormField.color:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this._selectionModel.selected.forEach(e=>e.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(e=>this._selectValue(e)),this._sortValues();else{const t=this._selectValue(e);t?this._keyManager.updateActiveItem(t):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectValue(e){const t=this.options.find(t=>{try{return null!=t.value&&this._compareWith(t.value,e)}catch(n){return!1}});return t&&this._selectionModel.select(t),t}_initKeyManager(){this._keyManager=new l.b(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(Object(C.a)(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(Object(C.a)(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):this._panelOpen||this.multiple||!this._keyManager.activeItem||this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const e=Object(m.a)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Object(C.a)(e)).subscribe(e=>{this._onSelect(e.source,e.isUserInput),e.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),Object(m.a)(...this.options.map(e=>e._stateChanges)).pipe(Object(C.a)(e)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(e,t){const n=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(n!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),t&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),t&&this.focus())):(e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(e.value)),n!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const e=this.options.toArray();this._selectionModel.sort((t,n)=>this.sortComparator?this.sortComparator(t,n,e):e.indexOf(t)-e.indexOf(n)),this.stateChanges.next()}}_propagateChanges(e){let t=null;t=this.multiple?this.selected.map(e=>e.value):this.selected?this.selected.value:e,this._value=t,this.valueChange.emit(t),this._onChange(t),this.selectionChange.emit(this._getChangeEvent(t)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){var e;return!this._panelOpen&&!this.disabled&&(null===(e=this.options)||void 0===e?void 0:e.length)>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const e=this._getLabelId();return this.ariaLabelledby?e+" "+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getLabelId(){var e;return(null===(e=this._parentFormField)||void 0===e?void 0:e.getLabelId())||""}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;let e=this._getLabelId()+" "+this._valueId;return this.ariaLabelledby&&(e+=" "+this.ariaLabelledby),e}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){this._ariaDescribedby=e.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty}}return e.\u0275fac=function(t){return new(t||e)(o.Nb(c.e),o.Nb(o.h),o.Nb(o.A),o.Nb(s.c),o.Nb(o.l),o.Nb(w.b,8),o.Nb(k.n,8),o.Nb(k.h,8),o.Nb(r.a,8),o.Nb(k.k,10),o.Yb("tabindex"),o.Nb(N),o.Nb(l.i),o.Nb(F,8))},e.\u0275dir=o.Ib({type:e,viewQuery:function(e,t){if(1&e&&(o.Bc(M,1),o.Bc(T,1),o.Bc(i.a,1)),2&e){let e;o.nc(e=o.bc())&&(t.trigger=e.first),o.nc(e=o.bc())&&(t.panel=e.first),o.nc(e=o.bc())&&(t.overlayDir=e.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],id:"id",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",typeaheadDebounceInterval:"typeaheadDebounceInterval",panelClass:"panelClass",ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",sortComparator:"sortComparator"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[o.yb,o.zb]}),e})(),H=(()=>{class e extends W{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(e,t,n){const i=this._getItemHeight();return Math.min(Math.max(0,i*e-t+i/2),n)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(Object(C.a)(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe(Object(_.a)(1)).subscribe(()=>{this._triggerFontSize&&this.overlayDir.overlayRef&&this.overlayDir.overlayRef.overlayElement&&(this.overlayDir.overlayRef.overlayElement.style.fontSize=this._triggerFontSize+"px")}))}_scrollOptionIntoView(e){const t=Object(s.q)(e,this.options,this.optionGroups),n=this._getItemHeight();this.panel.nativeElement.scrollTop=Object(s.r)((e+t)*n,n,this.panel.nativeElement.scrollTop,R)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(e){this.panelOpen?this._scrollTop=0:(this.overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(e)}_getChangeEvent(e){return new z(this,e)}_calculateOverlayOffsetX(){const e=this.overlayDir.overlayRef.overlayElement.getBoundingClientRect(),t=this._viewportRuler.getViewportSize(),n=this._isRtl(),i=this.multiple?56:32;let a;if(this.multiple)a=40;else if(this.disableOptionCentering)a=16;else{let e=this._selectionModel.selected[0]||this.options.first;a=e&&e.group?32:16}n||(a*=-1);const o=0-(e.left+a-(n?i:0)),s=e.right+a-t.width+(n?0:i);o>0?a+=o+8:s>0&&(a-=s+8),this.overlayDir.offsetX=Math.round(a),this.overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(e,t,n){const i=this._getItemHeight(),a=(i-this._triggerRect.height)/2,o=Math.floor(R/i);let s;return this.disableOptionCentering?0:(s=0===this._scrollTop?e*i:this._scrollTop===n?(e-(this._getItemCount()-o))*i+(i-(this._getItemCount()*i-R)%i):t-i/2,Math.round(-1*s-a))}_checkOverlayWithinViewport(e){const t=this._getItemHeight(),n=this._viewportRuler.getViewportSize(),i=this._triggerRect.top-8,a=n.height-this._triggerRect.bottom-8,o=Math.abs(this._offsetY),s=Math.min(this._getItemCount()*t,R)-o-this._triggerRect.height;s>a?this._adjustPanelUp(s,a):o>i?this._adjustPanelDown(o,i,e):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(e,t){const n=Math.round(e-t);this._scrollTop-=n,this._offsetY-=n,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(e,t,n){const i=Math.round(e-t);if(this._scrollTop+=i,this._offsetY+=i,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=n)return this._scrollTop=n,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const e=this._getItemHeight(),t=this._getItemCount(),n=Math.min(t*e,R),i=t*e-n;let a;a=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),a+=Object(s.q)(a,this.options,this.optionGroups);const o=n/2;this._scrollTop=this._calculateOverlayScroll(a,o,i),this._offsetY=this._calculateOverlayOffsetY(a,o,i),this._checkOverlayWithinViewport(i)}_getOriginBasedOnOption(){const e=this._getItemHeight(),t=(e-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-t+e/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return e.\u0275fac=function(t){return Y(t||e)},e.\u0275cmp=o.Hb({type:e,selectors:[["mat-select"]],contentQueries:function(e,t,n){if(1&e&&(o.Gb(n,G,1),o.Gb(n,s.j,1),o.Gb(n,s.d,1)),2&e){let e;o.nc(e=o.bc())&&(t.customTrigger=e.first),o.nc(e=o.bc())&&(t.options=e),o.nc(e=o.bc())&&(t.optionGroups=e)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(e,t){1&e&&o.ac("keydown",function(e){return t._handleKeydown(e)})("focus",function(){return t._onFocus()})("blur",function(){return t._onBlur()}),2&e&&(o.Cb("id",t.id)("tabindex",t.tabIndex)("aria-controls",t.panelOpen?t.id+"-panel":null)("aria-expanded",t.panelOpen)("aria-label",t.ariaLabel||null)("aria-required",t.required.toString())("aria-disabled",t.disabled.toString())("aria-invalid",t.errorState)("aria-describedby",t._ariaDescribedby||null)("aria-activedescendant",t._getAriaActiveDescendant()),o.Fb("mat-select-disabled",t.disabled)("mat-select-invalid",t.errorState)("mat-select-required",t.required)("mat-select-empty",t.empty)("mat-select-multiple",t.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[o.Ab([{provide:r.d,useExisting:e},{provide:s.e,useExisting:e}]),o.yb],ngContentSelectors:B,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(e,t){if(1&e&&(o.ic(D),o.Tb(0,"div",0,1),o.ac("click",function(){return t.toggle()}),o.Tb(3,"div",2),o.wc(4,x,2,1,"span",3),o.wc(5,I,3,2,"span",4),o.Sb(),o.Tb(6,"div",5),o.Ob(7,"div",6),o.Sb(),o.Sb(),o.wc(8,A,4,14,"ng-template",7),o.ac("backdropClick",function(){return t.close()})("attach",function(){return t._onAttached()})("detach",function(){return t.close()})),2&e){const e=o.oc(1);o.Cb("aria-owns",t.panelOpen?t.id+"-panel":null),o.Bb(3),o.jc("ngSwitch",t.empty),o.Cb("id",t._valueId),o.Bb(1),o.jc("ngSwitchCase",!0),o.Bb(1),o.jc("ngSwitchCase",!1),o.Bb(3),o.jc("cdkConnectedOverlayPanelClass",t._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",t._scrollStrategy)("cdkConnectedOverlayOrigin",e)("cdkConnectedOverlayOpen",t.panelOpen)("cdkConnectedOverlayPositions",t._positions)("cdkConnectedOverlayMinWidth",null==t._triggerRect?null:t._triggerRect.width)("cdkConnectedOverlayOffsetY",t._offsetY)}},directives:[i.b,a.m,a.n,i.a,a.o,a.i],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-table;cursor:pointer;position:relative;box-sizing:border-box}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-select-value{display:table-cell;max-width:0;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{display:table-cell;vertical-align:middle}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px}\n'],encapsulation:2,data:{animation:[V.transformPanelWrap,V.transformPanel]},changeDetection:0}),e})();const Y=o.Vb(H);let X=(()=>{class e{}return e.\u0275mod=o.Lb({type:e}),e.\u0275inj=o.Kb({factory:function(t){return new(t||e)},providers:[E],imports:[[a.c,i.f,s.k,s.g],c.b,r.e,s.k,s.g]}),e})();var $=n("bTqV"),J=n("/t3+"),Q=n("5RNC"),U=n("NFeN");let Z=(()=>{class e{}return e.\u0275mod=o.Lb({type:e}),e.\u0275inj=o.Kb({factory:function(t){return new(t||e)},imports:[[a.c,U.b,Q.b,X,$.c,J.b,r.e,k.o],k.o]}),e})();var ee=n("Wp6s"),te=n("wZkO"),ne=n("Qu3c"),ie=(n("R1ws"),n("GU7r"));let ae=(()=>{class e{}return e.\u0275mod=o.Lb({type:e}),e.\u0275inj=o.Kb({factory:function(t){return new(t||e)}}),e})(),oe=(()=>{class e{}return e.\u0275mod=o.Lb({type:e}),e.\u0275inj=o.Kb({factory:function(t){return new(t||e)},imports:[[s.o,s.g,ie.c,ae],s.g,ae]}),e})();var se=n("+rOU");n("LRne");let re=(()=>{class e{}return e.\u0275mod=o.Lb({type:e}),e.\u0275inj=o.Kb({factory:function(t){return new(t||e)},imports:[[w.a]]}),e})(),ce=(()=>{class e{constructor(){this.changes=new p.a,this.optionalLabel="Optional"}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Object(o.Jb)({factory:function(){return new e},token:e,providedIn:"root"}),e})();const le={provide:ce,deps:[[new o.B,new o.K,ce]],useFactory:function(e){return e||new ce}};let he=(()=>{class e{}return e.\u0275mod=o.Lb({type:e}),e.\u0275inj=o.Kb({factory:function(t){return new(t||e)},providers:[le,s.c],imports:[[s.g,a.c,se.f,$.c,re,U.b,s.o],s.g]}),e})();var de=n("XhcP"),be=n("MutI");let pe=(()=>{class e{}return e.\u0275mod=o.Lb({type:e}),e.\u0275inj=o.Kb({factory:function(t){return new(t||e)},imports:[[s.i,s.g],s.i,s.g]}),e})();var ue=n("qFsG");n("quSY");let me=(()=>{class e{}return e.\u0275mod=o.Lb({type:e}),e.\u0275inj=o.Kb({factory:function(t){return new(t||e)}}),e})();var ge=n("EY2u");let fe=(()=>{class e{}return e.\u0275mod=o.Lb({type:e}),e.\u0275inj=o.Kb({factory:function(t){return new(t||e)},imports:[[a.c,s.g,me,se.f]]}),e})();var _e=n("f0Cb");n("nLfN");let ve=(()=>{class e{}return e.\u0275mod=o.Lb({type:e}),e.\u0275inj=o.Kb({factory:function(t){return new(t||e)},imports:[[s.g,a.c],s.g]}),e})(),Oe=(()=>{class e{}return e.\u0275mod=o.Lb({type:e}),e.\u0275inj=o.Kb({factory:function(t){return new(t||e)},imports:[[s.g,s.o],s.g]}),e})(),ye=(()=>{class e{}return e.\u0275mod=o.Lb({type:e}),e.\u0275inj=o.Kb({factory:function(t){return new(t||e)},imports:[be.d,ee.e,te.c,U.b,Q.b,pe,X,ne.b,ue.b,$.c,c.d,_e.b,oe,J.b,de.d,he,fe,r.e,Oe,ve]}),e})();var Ce=n("UXJo"),Se=n("mrSG"),we=n("GhD8"),ke=n("7+mf"),Me=n("0Z/k"),Te=n("2Vo4"),xe=n("CTL+"),Pe=n("tyNb");const je=["video"];function Ie(e,t){if(1&e&&(o.Tb(0,"mat-option",13),o.yc(1),o.Sb()),2&e){const e=t.$implicit;o.jc("value",e),o.Bb(1),o.Ac(" ",e.label," ")}}let Ae=(()=>{class e{constructor(e){this.userSetup=e,this._devices=new Te.a([]),this.devices$=this._devices.asObservable(),this.form=new ke.p}ngOnInit(){const e=this.userSetup.getStoredValue();this.form.patchValue(e||{})}ngAfterViewInit(){this.form.getDevices("videoinput").then(e=>{this._devices.next(e.map(e=>e.toJSON()))})}onDeviceChange(e){Object(Me.b)(this.stream),e&&this.getStream(e)}toggleVideo(){var e;(null===(e=this.stream)||void 0===e?void 0:e.active)?Object(Me.b)(this.stream):this.getStream(this.form.video.value)}getStream({deviceId:e}){return Object(Se.a)(this,void 0,void 0,function*(){return navigator.mediaDevices.getUserMedia({video:{deviceId:e}}).then(e=>this.gotStream(this.video,e))})}gotStream({nativeElement:e},t){e.srcObject=t,this.stream=t}compareFn(e,t){return e&&t?e.deviceId===t.deviceId:e===t}onSave(){this.form.valid&&(this.userSetup.update(this.form.getUserSetup()),this.form.markAsPristine())}ngOnDestroy(){this.stream&&Object(Me.b)(this.stream)}}return e.\u0275fac=function(t){return new(t||e)(o.Nb(we.b))},e.\u0275cmp=o.Hb({type:e,selectors:[["speek-camera"]],viewQuery:function(e,t){if(1&e&&o.Bc(je,1),2&e){let e;o.nc(e=o.bc())&&(t.video=e.first)}},decls:38,vars:7,consts:[["routerLink","/","mat-icon-button",""],[1,"brand-name"],["mat-list-icon",""],["mat-line",""],["type","button","mat-icon-button","",3,"click"],["muted","","autoplay","","playsinline","","poster","/assets/images/speek-light.svg"],["video",""],[3,"formGroup"],["color","accent","appearance","outline"],["formControlName","video",3,"compareWith","selectionChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],["type","button","mat-fab","",3,"disabled","click"],[3,"value"]],template:function(e,t){1&e&&(o.Tb(0,"speek-toolbar"),o.Tb(1,"a",0),o.Tb(2,"mat-icon"),o.yc(3,"arrow_backward"),o.Sb(),o.Sb(),o.Tb(4,"span",1),o.yc(5,"v\xeddeo"),o.Sb(),o.Sb(),o.Tb(6,"mat-card"),o.Tb(7,"mat-card-content"),o.Tb(8,"mat-list"),o.Tb(9,"mat-list-item"),o.Tb(10,"mat-icon",2),o.yc(11,"video_settings"),o.Sb(),o.Tb(12,"h3",3),o.yc(13,"V\xeddeo"),o.Sb(),o.Tb(14,"button",4),o.ac("click",function(){return t.toggleVideo()}),o.Tb(15,"mat-icon"),o.yc(16),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Ob(17,"mat-divider"),o.Tb(18,"section"),o.Ob(19,"video",5,6),o.Sb(),o.Ob(21,"mat-divider"),o.Tb(22,"form",7),o.Tb(23,"mat-form-field",8),o.Tb(24,"mat-label"),o.yc(25,"Entrada de v\xeddeo"),o.Sb(),o.Tb(26,"mat-select",9),o.ac("selectionChange",function(e){return t.onDeviceChange(e.value)}),o.Tb(27,"mat-option",10),o.yc(28," Selecione um dispositivo "),o.Sb(),o.wc(29,Ie,2,2,"mat-option",11),o.fc(30,"async"),o.Sb(),o.Tb(31,"mat-hint"),o.yc(32,"Esta ser\xe1 sua c\xe2mera"),o.Sb(),o.Tb(33,"mat-error"),o.yc(34,"Selecione um dispositivo"),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Tb(35,"button",12),o.ac("click",function(){return t.onSave()}),o.Tb(36,"mat-icon"),o.yc(37,"check"),o.Sb(),o.Sb()),2&e&&(o.Bb(16),o.Ac(" ",null!=t.stream&&t.stream.active?"videocam":"videocam_off"," "),o.Bb(6),o.jc("formGroup",t.form),o.Bb(4),o.jc("compareWith",t.compareFn),o.Bb(3),o.jc("ngForOf",o.gc(30,5,t.devices$)),o.Bb(6),o.jc("disabled",!t.form.dirty))},directives:[xe.a,Pe.c,$.a,U.a,ee.a,ee.c,be.a,be.c,be.b,s.h,$.b,_e.a,k.q,k.m,k.h,r.c,r.g,H,k.l,k.f,s.j,a.j,r.f,r.b],pipes:[a.b],styles:["[_nghost-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:center;align-items:center}[_nghost-%COMP%]   .mat-card[_ngcontent-%COMP%]{display:flex;flex-direction:column}[_nghost-%COMP%]   .mat-card[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%]   .mat-list.mat-list-base[_ngcontent-%COMP%]{padding-top:0}[_nghost-%COMP%]   .mat-card[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%] > section[_ngcontent-%COMP%]{position:relative;padding-bottom:56.25%;height:0}[_nghost-%COMP%]   .mat-card[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%] > section[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%}[_nghost-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{bottom:0;width:300px;margin:10px}[_nghost-%COMP%]   .mat-fab[_ngcontent-%COMP%]{position:absolute;right:20px;bottom:20px}"]}),e})();var De=n("Qdhi");const Be=["localAudio"];let Ve=(()=>{class e{constructor(e){this._fb=e,this.form=this._fb.group({sendTones:[{value:"",disabled:!0}],duration:[500],gap:[50],tones:["1199##9,6633221,9966332,9966332,1199##9,6633221"]}),this.gap=new k.d(50),this.duration=new k.d(500)}ngOnInit(){}onClicked(e){console.log(e)}call(){console.log(this.audio)}sendTones(){}}return e.\u0275fac=function(t){return new(t||e)(o.Nb(k.c))},e.\u0275cmp=o.Hb({type:e,selectors:[["speek-dialup"]],viewQuery:function(e,t){if(1&e&&(o.Bc(Be,1),o.Bc(ke.c,1)),2&e){let e;o.nc(e=o.bc())&&(t.audioRef=e.first),o.nc(e=o.bc())&&(t.dialPad=e.first)}},decls:1,vars:0,consts:[[3,"onClick"]],template:function(e,t){1&e&&(o.Tb(0,"speek-dialpad",0),o.ac("onClick",function(e){return t.onClicked(e)}),o.Sb())},directives:[De.a],styles:["[_nghost-%COMP%]{flex:1;display:flex;flex-direction:column}[_nghost-%COMP%]   form[_ngcontent-%COMP%]{flex:1}[_nghost-%COMP%]   section[_ngcontent-%COMP%]{padding:0 12px;display:flex;justify-content:space-between;align-items:center}"]}),e})();var Le=n("IVWJ"),Re=n("a7DZ");function Ne(e,t){if(1&e&&(o.Rb(0),o.Ob(1,"speek-door",8),o.Qb()),2&e){const e=o.ec();o.Bb(1),o.jc("comeInOut",e.comeInOut)("opened",e.form.valid)}}let Fe=(()=>{class e{constructor(e,t,n,i){this._fb=e,this._router=t,this._route=n,this.userSetup=i,this._destroy=new p.a,this.comeInOut=new Te.a(!1),this.enter=!1,this.form=new Le.a;const{code:a=""}=this._route.snapshot.params;this.form.patchValue({code:a}),console.log(a)}ngOnInit(){this.userSetup.getStoredValue()}ngAfterViewInit(){navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0}})}onSave(){this.form.valid&&(this.userSetup.store(this.form.value),this.form.markAsPristine(),this._router.navigate(["/","newcode"]),console.log(this.form.value))}onLogin(){this.form.code.valid?(this.comeInOut.next(!this.comeInOut.value),this.enter=!0,setTimeout(()=>{this._router.navigate(["/",this.form.code.value])},3e3)):(this.comeInOut.next(!this.comeInOut.value),this.comeInOut.next(!this.comeInOut.value))}ngOnDestroy(){this.stream&&Object(Me.b)(this.stream),this._destroy.next(),this._destroy.complete()}onSubmit(){this.form.valid&&(this.userSetup.store(this.form.value),this._router.navigate(["/",this.form.code.value]))}}return e.\u0275fac=function(t){return new(t||e)(o.Nb(k.c),o.Nb(Pe.b),o.Nb(Pe.a),o.Nb(we.b))},e.\u0275cmp=o.Hb({type:e,selectors:[["speek-invite"]],decls:25,vars:3,consts:[["routerLink","/","mat-icon-button","","tabindex","-1"],[1,"brand-name"],[4,"ngIf"],[3,"formGroup"],["mat-subheader",""],["appearance","outline","color","accent"],["matInput","","autofocus","","cdkFocusInitial","","tabindex","0","formControlName","code"],["type","button","mat-fab","",3,"disabled","click"],[3,"comeInOut","opened"]],template:function(e,t){1&e&&(o.Tb(0,"speek-toolbar"),o.Tb(1,"a",0),o.Tb(2,"mat-icon"),o.yc(3,"arrow_backward"),o.Sb(),o.Sb(),o.Tb(4,"span",1),o.yc(5,"convidado"),o.Sb(),o.Sb(),o.wc(6,Ne,2,2,"ng-container",2),o.Tb(7,"mat-card"),o.Tb(8,"form",3),o.Tb(9,"mat-card-content"),o.Tb(10,"mat-list"),o.Tb(11,"h3",4),o.yc(12,"Arraste para ajustar o tom da sua voz"),o.Sb(),o.Sb(),o.Ob(13,"mat-divider"),o.Tb(14,"mat-form-field",5),o.Tb(15,"mat-label"),o.yc(16,"Entre com a chave da reuni\xe3o"),o.Sb(),o.Ob(17,"input",6),o.Tb(18,"mat-hint"),o.yc(19,"Caso n\xe3o tenha, pe\xe7a ao seu anfitri\xe3o"),o.Sb(),o.Tb(20,"mat-error"),o.yc(21,"C\xf3digo inv\xe1lido"),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Tb(22,"button",7),o.ac("click",function(){return t.onSubmit()}),o.Tb(23,"mat-icon"),o.yc(24,"phone_forwarded"),o.Sb(),o.Sb()),2&e&&(o.Bb(6),o.jc("ngIf",t.form.valid),o.Bb(2),o.jc("formGroup",t.form),o.Bb(14),o.jc("disabled",t.form.invalid))},directives:[xe.a,Pe.c,$.a,U.a,a.k,ee.a,k.q,k.m,k.h,ee.c,be.a,be.e,_e.a,r.c,r.g,ue.a,k.b,k.l,k.f,r.f,r.b,$.b,Re.a],styles:["[_nghost-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:center;align-items:center}[_nghost-%COMP%]   .mat-card[_ngcontent-%COMP%]{display:flex;flex-direction:column}[_nghost-%COMP%]   .mat-card-content[_ngcontent-%COMP%]{padding-bottom:4px;margin-bottom:0}[_nghost-%COMP%]   speek-door[_ngcontent-%COMP%]{position:absolute;visibility:hidden}[_nghost-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:300px;margin:10px}[_nghost-%COMP%]   .mat-fab[_ngcontent-%COMP%]{position:absolute;right:20px;bottom:20px}"]}),e})();var Ee=n("bYjQ"),ze=n("WGO7");const Ke=["tip"],qe=function(e){return{hide:e}};let Ge=(()=>{class e{constructor(e,t){this._router=e,this._userRoom=t,this.url="https://speek.video/#/invite",this.comeInOut=new Te.a(!1),this.form=new k.g({code:new k.d("",[k.p.required,k.p.pattern(ze.a.regex)])})}get enter(){return this.comeInOut.value}get code(){return this.form.get("code")}ngOnInit(){const e=ze.a.long();this.code.setValue(e),this.url=`${this.url}/${e}`}ngAfterViewInit(){this.tip&&(this.showTip=window.setTimeout(()=>{this.tip.show(),this.hideTip=window.setTimeout(()=>{this.tip.hide(),this.tip.message="Copiado",window.clearTimeout(this.hideTip)},2250),window.clearTimeout(this.showTip)},750))}onCopy(e){e.show(),this._userRoom.update(Ee.c.fromJson(this.form.value)),setTimeout(()=>e.hide(),750),setTimeout(()=>this.comeInOut.next(!0),1e3),setTimeout(()=>this._router.navigate(["/",this.code.value,"meet"]),3e3)}ngOnDestroy(){this.toggleTip&&window.clearInterval(this.toggleTip)}}return e.\u0275fac=function(t){return new(t||e)(o.Nb(Pe.b),o.Nb(we.a))},e.\u0275cmp=o.Hb({type:e,selectors:[["speek-create"]],viewQuery:function(e,t){if(1&e&&o.Bc(Ke,1),2&e){let e;o.nc(e=o.bc())&&(t.tip=e.first)}},hostVars:2,hostBindings:function(e,t){2&e&&o.Fb("zoom",t.enter)},decls:21,vars:10,consts:[["routerLink","/","mat-icon-button",""],[1,"brand-name"],[3,"opened"],[3,"ngClass"],[3,"formGroup"],["appearance","outline","color","accent"],["matInput","","autofocus","","type","text","name","code","cdkFocusInitial","","spellcheck","false","formControlName","code"],["matSuffix","","type","button","mat-icon-button","",3,"cdkCopyToClipboard","click"],["matTooltip","Copiar chave","matTooltipPosition","above"],["tip","matTooltip"]],template:function(e,t){if(1&e){const e=o.Ub();o.Tb(0,"speek-toolbar"),o.Tb(1,"a",0),o.Tb(2,"mat-icon"),o.yc(3,"arrow_backward"),o.Sb(),o.Sb(),o.Tb(4,"span",1),o.yc(5,"come\xe7ar"),o.Sb(),o.Sb(),o.Ob(6,"speek-door",2),o.fc(7,"async"),o.Tb(8,"mat-card",3),o.fc(9,"async"),o.Tb(10,"form",4),o.Tb(11,"mat-form-field",5),o.Tb(12,"mat-label"),o.yc(13,"Copie sua chave clicando ao lado"),o.Sb(),o.Ob(14,"input",6),o.Tb(15,"mat-hint"),o.yc(16,"Voc\xea precisa copiar a chave antes de entrar"),o.Sb(),o.Tb(17,"button",7),o.ac("click",function(){o.qc(e);const n=o.oc(19);return t.onCopy(n)}),o.Tb(18,"mat-icon",8,9),o.yc(20," content_copy "),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Sb()}2&e&&(o.Bb(6),o.jc("opened",o.gc(7,4,t.comeInOut)),o.Bb(2),o.jc("ngClass",o.lc(8,qe,o.gc(9,6,t.comeInOut))),o.Bb(2),o.jc("formGroup",t.form),o.Bb(7),o.jc("cdkCopyToClipboard",t.url))},directives:[xe.a,Pe.c,$.a,U.a,Re.a,ee.a,a.i,k.q,k.m,k.h,r.c,r.g,ue.a,k.b,k.l,k.f,r.f,$.b,r.h,Ce.a,ne.a],pipes:[a.b],styles:["[_nghost-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:space-evenly;align-items:center}[_nghost-%COMP%]   speek-door[_ngcontent-%COMP%]{transition:transform 3s ease-in-out}.zoom[_nghost-%COMP%]   speek-door[_ngcontent-%COMP%]{transform:scale(5)}[_nghost-%COMP%]   .mat-card[_ngcontent-%COMP%]{visibility:visible;color:#fff;transition:visibility 1.5s ease-in-out,opacity 1.5s ease-in-out}[_nghost-%COMP%]   .mat-card.hide[_ngcontent-%COMP%]{visibility:hidden;opacity:0}[_nghost-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:300px;margin:10px}[_nghost-%COMP%]   .mat-form-field[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{animation:flicker-1 2s linear infinite both}@keyframes flicker-1{0%,to{color:#fff}41.99%{color:#fff}42%{color:#00bcd4}44.80%{color:#00bcd4}45.01%{color:#fff}47.99%{color:#fff}48%{color:#00bcd4}49%{color:#00bcd4}49.01%{color:#fff}}"]}),e})();const We=["canvas"];function He(e,t){if(1&e&&(o.Tb(0,"mat-option",13),o.yc(1),o.Sb()),2&e){const e=t.$implicit;o.jc("value",e),o.Bb(1),o.Ac(" ",e.label," ")}}let Ye=(()=>{class e{constructor(e){this.userSetup=e,this._devices=new Te.a([]),this.devices$=this._devices.asObservable(),this.form=new ke.p,this._destroy=new p.a}ngOnInit(){const e=this.userSetup.getStoredValue();this.form.patchValue(e||{}),this.form.audio.value&&this.getStream(this.form.get("audio").value)}ngAfterViewInit(){this.form.getDevices("audioinput").then(e=>{this._devices.next(e.map(e=>e.toJSON()))})}onDeviceChange(e){Object(Me.b)(this.stream),e&&this.getStream(e)}getStream({deviceId:e}){return Object(Se.a)(this,void 0,void 0,function*(){return Object(Me.b)(this.stream),navigator.mediaDevices.getUserMedia({audio:{deviceId:e,echoCancellation:!0,noiseSuppression:!0}}).then(e=>this.gotStream(e))})}gotStream(e){this.stream=e;const t=new AudioContext,n=t.createMediaStreamSource(e),i=t.createAnalyser(),a=t.createDelay();a.delayTime.value=0,n.connect(a);const o=new Me.a(t),{value:s}=this.form.get("pitch");o.setPitchOffset(s),a.connect(o.input),o.output.connect(t.destination),o.output.connect(i),Object(ke.s)(this.canvas.nativeElement,i),this.form.valueChanges.pipe(Object(C.a)(this._destroy)).subscribe(({pitch:e})=>{o.setPitchOffset(e)})}compareFn(e,t){return e&&t?e.deviceId===t.deviceId:e===t}onSave(){this.form.valid&&(this.userSetup.update(this.form.getUserSetup()),this.form.markAsPristine())}ngOnDestroy(){this.stream&&Object(Me.b)(this.stream),this._destroy.next(),this._destroy.complete()}}return e.\u0275fac=function(t){return new(t||e)(o.Nb(we.b))},e.\u0275cmp=o.Hb({type:e,selectors:[["speek-voice"]],viewQuery:function(e,t){if(1&e&&o.Bc(We,1),2&e){let e;o.nc(e=o.bc())&&(t.canvas=e.first)}},decls:44,vars:6,consts:[["routerLink","/","mat-icon-button",""],[1,"brand-name"],[3,"formGroup"],["mat-list-icon",""],["mat-line",""],["canvas",""],["color","accent","appearance","outline"],["formControlName","audio",3,"compareWith","selectionChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],["mat-subheader",""],["min","-1","max","1","step","0.1","thumbLabel","","formControlName","pitch"],["type","button","mat-fab","",3,"disabled","click"],[3,"value"]],template:function(e,t){1&e&&(o.Tb(0,"speek-toolbar"),o.Tb(1,"a",0),o.Tb(2,"mat-icon"),o.yc(3,"arrow_backward"),o.Sb(),o.Sb(),o.Tb(4,"span",1),o.yc(5,"\xe1udio"),o.Sb(),o.Sb(),o.Tb(6,"mat-card"),o.Tb(7,"mat-card-content"),o.Tb(8,"form",2),o.Tb(9,"mat-list"),o.Tb(10,"mat-list-item"),o.Tb(11,"mat-icon",3),o.yc(12,"graphic_eq"),o.Sb(),o.Tb(13,"h3",4),o.yc(14,"Gr\xe1fico equalizador"),o.Sb(),o.Sb(),o.Sb(),o.Ob(15,"mat-divider"),o.Ob(16,"canvas",null,5),o.Ob(18,"mat-divider"),o.Tb(19,"mat-form-field",6),o.Tb(20,"mat-label"),o.yc(21,"Entrada de \xe1udio"),o.Sb(),o.Tb(22,"mat-select",7),o.ac("selectionChange",function(e){return t.onDeviceChange(e.value)}),o.Tb(23,"mat-option",8),o.yc(24," Selecione um dispositivo "),o.Sb(),o.wc(25,He,2,2,"mat-option",9),o.fc(26,"async"),o.Sb(),o.Tb(27,"mat-hint"),o.yc(28,"Este ser\xe1 seu microfone"),o.Sb(),o.Tb(29,"mat-error"),o.yc(30,"Selecione um dispositivo"),o.Sb(),o.Sb(),o.Ob(31,"mat-divider"),o.Tb(32,"mat-list"),o.Tb(33,"h3",10),o.yc(34,"Arraste para ajustar o tom da sua voz"),o.Sb(),o.Sb(),o.Tb(35,"section"),o.Tb(36,"span"),o.yc(37,"-1"),o.Sb(),o.Ob(38,"mat-slider",11),o.Tb(39,"span"),o.yc(40,"1"),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Tb(41,"button",12),o.ac("click",function(){return t.onSave()}),o.Tb(42,"mat-icon"),o.yc(43,"check"),o.Sb(),o.Sb()),2&e&&(o.Bb(8),o.jc("formGroup",t.form),o.Bb(14),o.jc("compareWith",t.compareFn),o.Bb(3),o.jc("ngForOf",o.gc(26,4,t.devices$)),o.Bb(16),o.jc("disabled",!t.form.dirty))},directives:[xe.a,Pe.c,$.a,U.a,ee.a,ee.c,k.q,k.m,k.h,be.a,be.c,be.b,s.h,_e.a,r.c,r.g,H,k.l,k.f,s.j,a.j,r.f,r.b,be.e,Q.a,$.b],pipes:[a.b],styles:["[_nghost-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:center;align-items:center}[_nghost-%COMP%]   .mat-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;border:2px dotted #464646}[_nghost-%COMP%]   .mat-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:relative}[_nghost-%COMP%]   .mat-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .mat-divider[_ngcontent-%COMP%]{position:unset}[_nghost-%COMP%]   .mat-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .mat-list.mat-list-base[_ngcontent-%COMP%]{padding-top:0}[_nghost-%COMP%]   .mat-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%] > section[_ngcontent-%COMP%]{display:flex;align-items:center;padding:0 10px}[_nghost-%COMP%]   .mat-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%] > section[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{letter-spacing:2px;display:inline-flex}[_nghost-%COMP%]   .mat-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%] > section[_ngcontent-%COMP%]   .mat-slider[_ngcontent-%COMP%]{flex:1}[_nghost-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{bottom:0;width:300px;margin:10px}[_nghost-%COMP%]   .mat-fab[_ngcontent-%COMP%]{position:absolute;right:20px;bottom:20px}"]}),e})();var Xe=n("6vI4"),$e=n("597B"),Je=n("i3Ll"),Qe=n("oNgS");let Ue=(()=>{class e{transform(e){var t;return null!==(t=$e.h[e])&&void 0!==t?t:e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=o.Mb({name:"peerStateBadge",type:e,pure:!0}),e})();const Ze=["local"],et=["remote"];function tt(e,t){1&e&&(o.Rb(0),o.Ob(1,"speek-splash",10),o.Qb())}let nt=(()=>{class e{constructor(e,t,n,i,a,o,s,r,c){this.router=e,this.peer=t,this.share=n,this.route=i,this.drawer=a,this.stream=o,this.userRoom=s,this.userSetup=r,this.signaling=c,this.destroy=new p.a,this._audio=new Te.a(!0),this.audio=this._audio.asObservable(),this._video=new Te.a(!0),this.video=this._video.asObservable(),this.sender=ze.a.short(),this.state=new p.a,this.state$=this.state.asObservable(),this.track=new p.a,this.onTrack=this.track.asObservable(),this.status=new p.a,this.status$=this.status.asObservable();const{code:l}=this.route.snapshot.params;this.code=l}ngOnInit(){this.signaling.on(Ee.a.Offer).pipe(Object(C.a)(this.destroy)).subscribe(e=>this.handle(e));const e=new Ee.b(this.sender,this.code);this.signaling.send(Ee.a.CreateOrJoin,e),this.peer.onChange.subscribe(e=>{this.state.next(e.signalingState),this.status.next(e.connectionState)}),this.peer.onCandidate.pipe(Object(C.a)(this.destroy)).subscribe(e=>{e&&this.sendOffer({ice:e})}),this.peer.onTrack.pipe(Object(C.a)(this.destroy)).subscribe(e=>{this.track.next(e),e&&(this.remote.srcObject=e,e.onremovetrack=e=>{this.remote.srcObject=null})}),this.peer.onNegotiationNeeded.subscribe(({target:e})=>{console.log("needed: ",e),this.status.next(e.connectionState)}),this.peer.onWarning.subscribe(({description:e})=>{console.log("needed: ",e),this.status.next(e)})}ngAfterViewInit(){this.local=this.localRef.nativeElement,this.remote=this.remoteRef.nativeElement,this.signaling.on(Ee.a.Created).subscribe(e=>this.setLocal(e)),this.signaling.on(Ee.a.Joined).subscribe(e=>this.setLocal(e))}handle({data:e,sender:t}){return Object(Se.a)(this,void 0,void 0,function*(){try{t!==this.sender&&(Object(ze.f)(this.peer.connection)&&Object(ze.e)(e.ice)&&this.peer.addCandidate(e.ice),e.sdp&&this.makeChoice(e.sdp))}catch(n){throw new Error("handle-message: "+n)}})}makeChoice(e){return Object(Se.a)(this,void 0,void 0,function*(){switch(e.type){case Ee.a.Offer:return this.peer.createAnswer(e).then(e=>{this.sendOffer({sdp:e})});case Ee.a.Answer:return this.peer.setRemote(e)}})}setLocal(e){this.stream.getStream({video:Object(Xe.d)(),audio:Object(Xe.b)()}).then(e=>{this.local.muted=!0,this.localStream=e,this.remote.srcObject=e,e.getTracks().forEach(e=>{console.log(e.getCapabilities()),console.log(e.getSettings()),console.log(e.getConstraints()),e.addEventListener("isolationchange",console.log)});const t=e.getAudioTracks();this.peer.connection.addTrack(t.shift(),e);const n=e.getVideoTracks();this.peer.connection.addTrack(n.shift(),e),this.peer.createOffer().then(e=>this.sendOffer({sdp:e}))})}sendOffer(e){this.signaling.send(Ee.a.Offer,new Ee.b(this.sender,this.code,e))}toggleAudio(){const e=!this._audio.getValue();this.localStream.getAudioTracks().forEach(t=>t.enabled=e),this._audio.next(e)}toggleVideo(){const e=!this._video.getValue();this.localStream.getVideoTracks().forEach(t=>t.enabled=e),this._video.next(e)}hangup(){this.router.navigate(["/"])}ngOnDestroy(){var e;this.destroy.next(),this.destroy.complete(),this.localStream&&Object(Me.b)(this.localStream),(null===(e=this.peer)||void 0===e?void 0:e.connection)&&console.log("close")}}return e.\u0275fac=function(t){return new(t||e)(o.Nb(Pe.b),o.Nb($e.a),o.Nb(ke.l),o.Nb(Pe.a),o.Nb(ke.g),o.Nb($e.e),o.Nb(we.a),o.Nb(we.b),o.Nb($e.c))},e.\u0275cmp=o.Hb({type:e,selectors:[["speek-meet"]],viewQuery:function(e,t){if(1&e&&(o.Bc(Ze,1),o.Bc(et,1)),2&e){let e;o.nc(e=o.bc())&&(t.localRef=e.first),o.nc(e=o.bc())&&(t.remoteRef=e.first)}},decls:32,vars:18,consts:[["routerLink","/","aria-label","Home","mat-icon-button",""],[1,"meeting-room"],["autoplay","","playsinline","","muted","",1,"remote"],["remote",""],["autoplay","","playsinline","","muted","",1,"local"],["local",""],["mat-button","",3,"click"],[4,"ngIf"],["mat-fab","","color","warn",1,"call-end",3,"disabled","click"],[1,"room-code"],["width","200px","message","Aguardando entrada do participante..."]],template:function(e,t){1&e&&(o.Tb(0,"speek-toolbar"),o.Tb(1,"a",0),o.Tb(2,"mat-icon"),o.yc(3,"arrow_backward"),o.Sb(),o.Sb(),o.Tb(4,"span"),o.yc(5),o.fc(6,"peerStateBadge"),o.fc(7,"async"),o.Sb(),o.Sb(),o.Tb(8,"section",1),o.Ob(9,"video",2,3),o.Ob(11,"speek-lamp"),o.Sb(),o.Tb(12,"mat-card"),o.Ob(13,"video",4,5),o.Tb(15,"mat-card-actions"),o.Tb(16,"button",6),o.ac("click",function(){return t.toggleAudio()}),o.Tb(17,"mat-icon"),o.yc(18),o.fc(19,"async"),o.Sb(),o.Sb(),o.Tb(20,"button",6),o.ac("click",function(){return t.toggleVideo()}),o.Tb(21,"mat-icon"),o.yc(22),o.fc(23,"async"),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.wc(24,tt,2,0,"ng-container",7),o.fc(25,"async"),o.Tb(26,"button",8),o.ac("click",function(){return t.hangup()}),o.fc(27,"async"),o.Tb(28,"mat-icon"),o.yc(29,"call_end"),o.Sb(),o.Sb(),o.Tb(30,"span",9),o.yc(31),o.Sb()),2&e&&(o.Bb(5),o.Ac(" ",o.gc(6,6,o.gc(7,8,t.state$))," "),o.Bb(13),o.zc(o.gc(19,10,t.audio)?"mic":"mic_off"),o.Bb(4),o.zc(o.gc(23,12,t.video)?"videocam":"videocam_off"),o.Bb(2),o.jc("ngIf","stable"!=o.gc(25,14,t.state$)),o.Bb(2),o.jc("disabled","stable"!=o.gc(27,16,t.state$)),o.Bb(5),o.zc(t.code))},directives:[xe.a,Pe.c,$.a,U.a,Je.a,ee.a,ee.b,$.b,a.k,Qe.a],pipes:[Ue,a.b],styles:["[_nghost-%COMP%]{flex:1;display:flex;flex-direction:column;overflow:hidden;background:#191919}[_nghost-%COMP%]   .brand-name[_ngcontent-%COMP%]{opacity:.5}[_nghost-%COMP%]   .meeting-room[_ngcontent-%COMP%]{height:100%;position:relative}[_nghost-%COMP%]   .meeting-room[_ngcontent-%COMP%]   speek-lamp[_ngcontent-%COMP%], [_nghost-%COMP%]   .meeting-room[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{position:absolute}[_nghost-%COMP%]   video[_ngcontent-%COMP%]{flex:1;width:100%;height:100%;max-width:100%;max-height:100%;object-fit:cover;vertical-align:top}[_nghost-%COMP%]   .mat-card[_ngcontent-%COMP%]{border-top-left-radius:12px;border-bottom-right-radius:0;border-top-right-radius:0;position:absolute;min-width:200px;max-width:260px;width:25%;bottom:24px;right:0;z-index:2}[_nghost-%COMP%]   .mat-card[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .mat-card[_ngcontent-%COMP%]   video.remote[_ngcontent-%COMP%]{object-fit:cover}[_nghost-%COMP%]   .mat-card-actions[_ngcontent-%COMP%]{margin:0;display:flex;flex-direction:row;padding:0}[_nghost-%COMP%]   .mat-card-actions[_ngcontent-%COMP%]:last-child{margin-bottom:0}[_nghost-%COMP%]   .mat-card-actions[_ngcontent-%COMP%]   .mat-button-base[_ngcontent-%COMP%]{flex:1;padding:3px}[_nghost-%COMP%]   .call-end[_ngcontent-%COMP%]{position:absolute;bottom:20px;left:20px}[_nghost-%COMP%]   .room-code[_ngcontent-%COMP%]{position:absolute;right:4px;bottom:4px;opacity:.3}"]}),e})(),it=(()=>{class e{constructor(e,t){this._router=e,this._share=t,this.destroy=new p.a}share(){this._share.open().pipe(Object(C.a)(this.destroy)).subscribe(e=>{console.log(e)})}go(e){e&&this._router.navigate(["/",e])}ngOnDestroy(){this.destroy.next(),this.destroy.complete()}}return e.\u0275fac=function(t){return new(t||e)(o.Nb(Pe.b),o.Nb(ke.l))},e.\u0275cmp=o.Hb({type:e,selectors:[["speek-home"]],decls:31,vars:0,consts:[["routerLink","/","aria-label","Home","mat-icon-button",""],["svgIcon","speek-logo"],[1,"brand-name"],["mat-card-subtitle",""],["mat-list-item","","routerLink","/create","aria-label","Iniciar conversa"],["mat-list-item","","routerLink","/invite","aria-label","Acessar conversa"],["mat-subheader",""],["mat-list-item","","routerLink","/voice","aria-label","Tom de voz"],["mat-list-item","","routerLink","/camera","aria-label","C\xe2mera"],["mat-fab","","aria-label","Compartilhar",3,"click"]],template:function(e,t){1&e&&(o.Tb(0,"speek-toolbar"),o.Tb(1,"a",0),o.Ob(2,"mat-icon",1),o.Sb(),o.Tb(3,"span",2),o.yc(4,"speek"),o.Sb(),o.Sb(),o.Tb(5,"mat-card"),o.Tb(6,"mat-card-header"),o.Tb(7,"h1",3),o.yc(8,"Como quer come\xe7ar?"),o.Sb(),o.Sb(),o.Tb(9,"mat-card-content"),o.Tb(10,"mat-nav-list"),o.Tb(11,"a",4),o.yc(12,"Iniciar conversa"),o.Sb(),o.Tb(13,"a",5),o.yc(14,"Acessar conversa"),o.Sb(),o.Ob(15,"mat-divider"),o.Tb(16,"h3",6),o.yc(17,"Configura\xe7\xf5es"),o.Sb(),o.Tb(18,"a",7),o.Tb(19,"mat-icon"),o.yc(20,"settings_voice"),o.Sb(),o.Tb(21,"span"),o.yc(22,"\xc1udio"),o.Sb(),o.Sb(),o.Tb(23,"a",8),o.Tb(24,"mat-icon"),o.yc(25,"videocam"),o.Sb(),o.Tb(26,"span"),o.yc(27,"V\xeddeo"),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Tb(28,"button",9),o.ac("click",function(){return t.share()}),o.Tb(29,"mat-icon"),o.yc(30,"share"),o.Sb(),o.Sb())},directives:[xe.a,Pe.c,$.a,U.a,ee.a,ee.d,ee.f,ee.c,be.f,be.c,_e.a,be.e,$.b],styles:['[_nghost-%COMP%]{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:space-evenly;position:relative}[_nghost-%COMP%]     speek-toolbar .mat-toolbar{background-color:transparent}[_nghost-%COMP%]:before{content:" ";width:100%;height:100%;position:absolute;background-image:url(/assets/descentralized.svg);background-position-x:center;background-position-y:center;background-repeat:no-repeat;background-size:420%;opacity:.04;transition:filter .25s ease-in-out,opacity .5s ease-in-out,background-size .4s ease-in-out}[_nghost-%COMP%]:hover:before{opacity:.1;background-size:210%}[_nghost-%COMP%]   .mat-nav-list[_ngcontent-%COMP%]{letter-spacing:1.2px}[_nghost-%COMP%]   .mat-nav-list[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin-right:12px}[_nghost-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:120px;position:absolute;visibility:hidden;transition:visibility .6s ease-in-out}[_nghost-%COMP%]   .mat-form-field.active[_ngcontent-%COMP%]{visibility:visible}[_nghost-%COMP%]   .mat-fab[_ngcontent-%COMP%]{position:absolute;right:20px;bottom:20px}']}),e})();const at=["local"],ot=["remote"],st=["screen"];function rt(e,t){1&e&&(o.Rb(0),o.Ob(1,"speek-splash"),o.Qb())}let ct=(()=>{class e{constructor(e,t,n,i,a,o,s,r,c){this.router=e,this.peer=t,this.share=n,this.route=i,this.drawer=a,this.stream=o,this.userRoom=s,this.userSetup=r,this.signaling=c,this.destroy=new p.a,this._audio=new Te.a(!0),this.audio$=this._audio.asObservable(),this._video=new Te.a(!0),this.video$=this._video.asObservable(),this._screen=new Te.a(!0),this.screen$=this._screen.asObservable(),this.sender=ze.a.short(),this.state=new p.a,this.onState=this.state.asObservable(),this.track=new p.a,this.onTrack=this.track.asObservable();const{code:l}=this.route.snapshot.params;this.code=l}ngOnInit(){this.signaling.on(Ee.a.Offer).pipe(Object(C.a)(this.destroy)).subscribe(e=>this.handle(e));const e=new Ee.b(this.sender,this.code);this.signaling.send(Ee.a.CreateOrJoin,e),this.peer.onChange.subscribe(e=>{this.state.next(e.signalingState)}),this.peer.onCandidate.pipe(Object(C.a)(this.destroy)).subscribe(e=>{e&&this.sendOffer({ice:e})}),this.peer.onTrack.pipe(Object(C.a)(this.destroy)).subscribe(e=>{this.track.next(e),e&&(this.remote.srcObject=e,e.onremovetrack=e=>{this.remote.srcObject=null})})}ngAfterViewInit(){this.local=this.localRef.nativeElement,this.remote=this.remoteRef.nativeElement,this.screen=this.screenRef.nativeElement,this.signaling.on(Ee.a.Created).subscribe(e=>this.setLocal(e)),this.signaling.on(Ee.a.Joined).subscribe(e=>this.setLocal(e))}handle({data:e,sender:t}){return Object(Se.a)(this,void 0,void 0,function*(){try{t!==this.sender&&(Object(ze.f)(this.peer.connection)&&Object(ze.e)(e.ice)&&this.peer.addCandidate(e.ice),e.sdp&&this.makeChoice(e.sdp))}catch(n){throw new Error("handle-message: "+n)}})}makeChoice(e){return Object(Se.a)(this,void 0,void 0,function*(){switch(e.type){case Ee.a.Offer:return this.peer.createAnswer(e).then(e=>{this.sendOffer({sdp:e})});case Ee.a.Answer:return this.peer.setRemote(e)}})}setScreen(e){}setLocal(e){this.stream.getStream({video:Object(Xe.d)(),audio:Object(Xe.b)()}).then(e=>{this.local.muted=!0,this.localStream=e,this.local.srcObject=e,e.getTracks().forEach(e=>{console.log(e.getCapabilities()),console.log(e.getSettings()),console.log(e.getConstraints()),e.addEventListener("isolationchange",console.log)});const t=this.gotVoice(e),n=t.stream.getAudioTracks();this.peer.connection.addTrack(n.shift(),t.stream);const i=t.stream.getVideoTracks();this.peer.connection.addTrack(i.shift(),t.stream),this.peer.createOffer().then(e=>this.sendOffer({sdp:e}))})}gotVoice(e){var t;let n,i=window.AudioContext||window.webkitAudioContext||!1;i?n=new i:alert("Sorry, but the Web Audio API is not supported by your browser. Please, consider upgrading to the latest version or downloading Google Chrome or Mozilla Firefox");const a=n.createMediaStreamSource(e),o=n.createMediaStreamDestination(),s=n.createDelay();s.delayTime.value=0,a.connect(s);const r=new Me.a(n),{pitch:c=1.5}=null!==(t=this.userSetup.getStoredValue())&&void 0!==t?t:{};return r.setPitchOffset(c),s.connect(r.input),r.output.connect(o),o}sendOffer(e){this.signaling.send(Ee.a.Offer,new Ee.b(this.sender,this.code,e))}toggleAudio(){const e=!this._audio.getValue();this.localStream.getAudioTracks().forEach(t=>t.enabled=e),this._audio.next(e)}toggleVideo(){const e=!this._video.getValue();this.localStream.getVideoTracks().forEach(t=>t.enabled=e),this._video.next(e)}toggleScreen(){const e=!this._video.getValue();this.localStream.getVideoTracks().forEach(t=>t.enabled=e),this._video.next(e)}hangup(){this.router.navigate(["/"])}ngOnDestroy(){var e;this.destroy.next(),this.destroy.complete(),this.localStream&&Object(Me.b)(this.localStream),(null===(e=this.peer)||void 0===e?void 0:e.connection)&&console.log("close")}}return e.\u0275fac=function(t){return new(t||e)(o.Nb(Pe.b),o.Nb($e.a),o.Nb(ke.l),o.Nb(Pe.a),o.Nb(ke.g),o.Nb($e.e),o.Nb(we.a),o.Nb(we.b),o.Nb($e.c))},e.\u0275cmp=o.Hb({type:e,selectors:[["speek-room"]],viewQuery:function(e,t){if(1&e&&(o.Bc(at,1),o.Bc(ot,1),o.Bc(st,1)),2&e){let e;o.nc(e=o.bc())&&(t.localRef=e.first),o.nc(e=o.bc())&&(t.remoteRef=e.first),o.nc(e=o.bc())&&(t.screenRef=e.first)}},decls:34,vars:16,consts:[["routerLink","/","aria-label","Home","mat-icon-button",""],[1,"brand-name","truncate"],["autoplay","","playsinline","","muted","",1,"remote"],["remote",""],["autoplay","","playsinline","","muted","",1,"screen"],["screen",""],["autoplay","","playsinline","","muted","",1,"local"],["local",""],["mat-button","",3,"click"],[4,"ngIf"],["mat-fab","","color","warn",1,"call-end",3,"disabled","click"]],template:function(e,t){1&e&&(o.Tb(0,"speek-toolbar"),o.Tb(1,"a",0),o.Tb(2,"mat-icon"),o.yc(3,"arrow_backward"),o.Sb(),o.Sb(),o.Tb(4,"span",1),o.yc(5),o.Sb(),o.Sb(),o.Ob(6,"video",2,3),o.Ob(8,"video",4,5),o.Tb(10,"mat-card"),o.Ob(11,"video",6,7),o.Tb(13,"mat-card-actions"),o.Tb(14,"button",8),o.ac("click",function(){return t.toggleAudio()}),o.Tb(15,"mat-icon"),o.yc(16),o.fc(17,"async"),o.Sb(),o.Sb(),o.Tb(18,"button",8),o.ac("click",function(){return t.toggleVideo()}),o.Tb(19,"mat-icon"),o.yc(20),o.fc(21,"async"),o.Sb(),o.Sb(),o.Tb(22,"button",8),o.ac("click",function(){return t.toggleScreen()}),o.Tb(23,"mat-icon"),o.yc(24),o.fc(25,"async"),o.Sb(),o.Tb(26,"mat-icon"),o.yc(27,"screen_share"),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.wc(28,rt,2,0,"ng-container",9),o.fc(29,"async"),o.Tb(30,"button",10),o.ac("click",function(){return t.hangup()}),o.fc(31,"async"),o.Tb(32,"mat-icon"),o.yc(33,"call_end"),o.Sb(),o.Sb()),2&e&&(o.Bb(5),o.zc(t.code),o.Bb(11),o.zc(o.gc(17,6,t.audio$)?"mic":"mic_off"),o.Bb(4),o.zc(o.gc(21,8,t.video$)?"videocam":"videocam_off"),o.Bb(4),o.zc(o.gc(25,10,t.screen$)?"screen_share":"stop_screen_share"),o.Bb(4),o.jc("ngIf","stable"!=o.gc(29,12,t.onState)),o.Bb(2),o.jc("disabled","stable"!=o.gc(31,14,t.onState)))},directives:[xe.a,Pe.c,$.a,U.a,ee.a,ee.b,$.b,a.k,Qe.a],pipes:[a.b],styles:["[_nghost-%COMP%]{flex:1;display:flex;flex-direction:column;overflow:hidden;background:#090909}[_nghost-%COMP%]   .brand-name[_ngcontent-%COMP%]{opacity:.5}[_nghost-%COMP%]   video[_ngcontent-%COMP%]{width:100%;max-width:100%;max-height:100%;object-fit:cover;vertical-align:top;flex:1}[_nghost-%COMP%]   .mat-card[_ngcontent-%COMP%]{border-top-left-radius:12px;position:absolute;min-width:220px;width:25%;bottom:16px;right:0}[_nghost-%COMP%]   .mat-card[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .mat-card[_ngcontent-%COMP%]   video.remote[_ngcontent-%COMP%]{object-fit:cover}[_nghost-%COMP%]   .mat-card-actions[_ngcontent-%COMP%]{margin:0;display:flex;flex-direction:row;padding:0}[_nghost-%COMP%]   .mat-card-actions[_ngcontent-%COMP%]:last-child{margin-bottom:0}[_nghost-%COMP%]   .mat-card-actions[_ngcontent-%COMP%]   .mat-button-base[_ngcontent-%COMP%]{flex:1;padding:3px}[_nghost-%COMP%]   .call-end[_ngcontent-%COMP%]{position:absolute;bottom:20px;left:20px}"]}),e})();function lt(e,t){if(1&e&&(o.Rb(0),o.Ob(1,"speek-door",6),o.Qb()),2&e){const e=o.ec();o.Bb(1),o.jc("comeInOut",e.comeInOut)("opened",e.code.valid)}}let ht=(()=>{class e{constructor(e,t){this._router=e,this._route=t,this.pitch=1,this.enter=!1,this.form=new k.g({code:new k.d("",[k.p.required,k.p.pattern(ze.a.regex)]),pitch:new k.d(0,[k.p.min(-1.2),k.p.max(1.2)])},{updateOn:"blur"}),this.comeInOut=new Te.a(!1)}get code(){return this.form.get("code")}ngOnInit(){}onClick(){this._router.navigate([".."],{queryParams:{pitch:this.pitch},relativeTo:this._route})}onChange(e){this.pitch=e}onLogin(){this.code.valid?(this.comeInOut.next(!this.comeInOut.value),this.enter=!0,setTimeout(()=>{this._router.navigate(["/",this.code.value])},3e3)):(this.comeInOut.next(!this.comeInOut.value),this.comeInOut.next(!this.comeInOut.value))}onSubmit(){this.form.valid&&this._router.navigate(["/",ze.a.long()])}}return e.\u0275fac=function(t){return new(t||e)(o.Nb(Pe.b),o.Nb(Pe.a))},e.\u0275cmp=o.Hb({type:e,selectors:[["speek-hall"]],decls:20,vars:3,consts:[["routerLink","/","mat-icon-button",""],[1,"brand-name"],[4,"ngIf"],["appearance","outline","color","accent"],["matInput","","autofocus","","cdkFocusInitial","",3,"formControl"],["type","button","mat-fab","",3,"disabled","click"],[3,"comeInOut","opened"]],template:function(e,t){1&e&&(o.Tb(0,"speek-toolbar"),o.Tb(1,"a",0),o.Tb(2,"mat-icon"),o.yc(3,"arrow_backward"),o.Sb(),o.Sb(),o.Tb(4,"span",1),o.yc(5,"convidado"),o.Sb(),o.Sb(),o.wc(6,lt,2,2,"ng-container",2),o.Tb(7,"mat-card"),o.Tb(8,"mat-card-content"),o.Tb(9,"mat-form-field",3),o.Tb(10,"mat-label"),o.yc(11,"Entre com o c\xf3digo"),o.Sb(),o.Ob(12,"input",4),o.Tb(13,"mat-hint"),o.yc(14,"C\xf3dgo de acesso"),o.Sb(),o.Tb(15,"mat-error"),o.yc(16,"C\xf3digo inv\xe1lido"),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Tb(17,"button",5),o.ac("click",function(){return t.onSubmit()}),o.Tb(18,"mat-icon"),o.yc(19,"phone_forwarded"),o.Sb(),o.Sb()),2&e&&(o.Bb(6),o.jc("ngIf",t.code.valid),o.Bb(6),o.jc("formControl",t.code),o.Bb(5),o.jc("disabled",t.code.invalid))},directives:[xe.a,Pe.c,$.a,U.a,a.k,ee.a,ee.c,r.c,r.g,ue.a,k.b,k.l,k.e,r.f,r.b,$.b,Re.a],styles:["[_nghost-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:space-evenly;align-items:center}[_nghost-%COMP%]   .mat-card[_ngcontent-%COMP%]{visibility:visible;opacity:1;transition:visibility 1.5s ease-in-out,opacity 1.5s ease-in-out}[_nghost-%COMP%]   .mat-card.hide[_ngcontent-%COMP%]{visibility:hidden;opacity:0}[_nghost-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:300px;margin:10px}[_nghost-%COMP%]   .mat-fab[_ngcontent-%COMP%]{position:absolute;right:20px;bottom:20px}[_nghost-%COMP%]   .mat-dialog-actions[_ngcontent-%COMP%]{flex:1;justify-content:space-between}"]}),e})(),dt=(()=>{class e{constructor(e,t){this.userSetup=e,this._router=t}canDeactivate(e,t,n,i){return e.form.valid}canActivate(e,t){var n;const i=null!==(n=this.userSetup.getStoredValue())&&void 0!==n?n:{};return i.pitch||this.userSetup.store(Object.assign(i,{pitch:0})),!0}}return e.\u0275fac=function(t){return new(t||e)(o.Xb(we.b),o.Xb(Pe.b))},e.\u0275prov=o.Jb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var bt=n("0IaG");let pt=(()=>{class e{constructor(e,t){this._dialog=e,this.userSetup=t}canDeactivate(e,t,n,i){var a;const o=this._dialog.open(ke.b,{data:{header:"Finalizar chamada",body:"Cancele para continuar na chamada ou encerre confirmando"}});return(null===(a=e.localStream)||void 0===a?void 0:a.active)?o.afterClosed():ge.a}canActivate(e,t){var n;const i=e.paramMap.get("code");if(ze.a.isValid(i)){const e=null!==(n=this.userSetup.getStoredValue())&&void 0!==n?n:{};return e.pitch||this.userSetup.store(Object.assign(e,{pitch:0})),!0}}}return e.\u0275fac=function(t){return new(t||e)(o.Xb(bt.b),o.Xb(we.b))},e.\u0275prov=o.Jb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),ut=(()=>{class e{constructor(e,t){this._dialog=e,this.userSetup=t}canDeactivate(e,t,n,i){var a;const o=this._dialog.open(ke.b,{data:{header:"Finalizar chamada",body:"Cancele para continuar na chamada ou encerre confirmando"}});return(null===(a=e.localStream)||void 0===a?void 0:a.active)?o.afterClosed():ge.a}canActivate(e,t){var n;const i=e.paramMap.get("code");if(ze.a.isValid(i)){const e=null!==(n=this.userSetup.getStoredValue())&&void 0!==n?n:{};return e.pitch||this.userSetup.store(Object.assign(e,{pitch:0})),!0}}}return e.\u0275fac=function(t){return new(t||e)(o.Xb(bt.b),o.Xb(we.b))},e.\u0275prov=o.Jb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),mt=(()=>{class e{constructor(e,t){this._dialog=e,this._router=t}canDeactivate(e,t,n,i){return console.log(t),console.log(n),console.log(i),!0}canActivate(e,t){const n=e.paramMap.get("code");return!!ze.a.isValid(n)||this._dialog.open(ke.q,{data:ze.a.long()}).afterClosed().pipe(Object(f.a)(({response:e,pitch:t})=>(console.log("response: ",e),console.log("pitch: ",t),this._router.navigate(["/",null!=e?e:""],{queryParams:{pitch:t}}))))}}return e.\u0275fac=function(t){return new(t||e)(o.Xb(bt.b),o.Xb(Pe.b))},e.\u0275prov=o.Jb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),gt=(()=>{class e{}return e.\u0275mod=o.Lb({type:e}),e.\u0275inj=o.Kb({factory:function(t){return new(t||e)},imports:[[Pe.d.forChild([{path:"",component:it},{path:"voice",component:Ye},{path:"camera",component:Ae},{path:"create",component:Ge},{path:"dialup",component:Ve},{path:"invite",canActivate:[dt],component:Fe},{path:"invite/:code",canActivate:[dt],component:Fe},{path:":code",redirectTo:":code/meet"},{path:":code/room",canActivate:[ut],canDeactivate:[ut],component:ct},{path:":code/meet",canActivate:[pt],canDeactivate:[pt],component:nt},{path:":code/hall",canDeactivate:[mt],component:ht}])],Pe.d]}),e})();var ft=n("0MNC");let _t=(()=>{class e{}return e.\u0275mod=o.Lb({type:e}),e.\u0275inj=o.Kb({factory:function(t){return new(t||e)},providers:[Ue],imports:[[a.c,l.a,se.f,ke.h,ke.m,ke.e,ke.r,ke.a,ke.k,Z,ke.i,ft.c,ke.d,ke.j,ke.n,ye,Ce.b,k.o,gt]]}),e})()}}]);