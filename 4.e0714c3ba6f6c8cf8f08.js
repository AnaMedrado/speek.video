(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{zljH:function(t,e,i){"use strict";i.r(e),i.d(e,"PageModule",function(){return ye});var n=i("tyNb"),a=i("mrSG"),o=i("GhD8");function s(t,e){return{[e]:{optional:[{sourceId:t}]}}}const r=t=>Object(a.a)(void 0,void 0,void 0,function*(){const e=yield navigator.mediaDevices.enumerateDevices();return t?e.filter(({kind:e})=>e===t):e});var c=i("3Pt+"),l=i("0Z/k"),d=i("2Vo4"),h=i("fXoL"),m=i("CTL+"),b=i("bTqV"),p=i("NFeN"),u=i("R1ws"),g=i("FKr1");const f=["*",[["mat-card-footer"]]],v=["*","mat-card-footer"],_=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],y=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"];let O=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=h.Ib({type:t,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),t})(),C=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=h.Ib({type:t,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-card-subtitle"]}),t})(),w=(()=>{class t{constructor(){this.align="start"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=h.Ib({type:t,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-card-actions"],hostVars:2,hostBindings:function(t,e){2&t&&h.Fb("mat-card-actions-align-end","end"===e.align)},inputs:{align:"align"},exportAs:["matCardActions"]}),t})(),S=(()=>{class t{constructor(t){this._animationMode=t}}return t.\u0275fac=function(e){return new(e||t)(h.Nb(u.a,8))},t.\u0275cmp=h.Hb({type:t,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(t,e){2&t&&h.Fb("_mat-animation-noopable","NoopAnimations"===e._animationMode)},exportAs:["matCard"],ngContentSelectors:v,decls:2,vars:0,template:function(t,e){1&t&&(h.ic(f),h.hc(0),h.hc(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions .mat-button:first-child,.mat-card-actions .mat-raised-button:first-child,.mat-card-actions .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),t})(),x=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=h.Hb({type:t,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-card-header"],ngContentSelectors:y,decls:4,vars:0,consts:[[1,"mat-card-header-text"]],template:function(t,e){1&t&&(h.ic(_),h.hc(0),h.Tb(1,"div",0),h.hc(2,1),h.Sb(),h.hc(3,2))},encapsulation:2,changeDetection:0}),t})(),k=(()=>{class t{}return t.\u0275mod=h.Lb({type:t}),t.\u0275inj=h.Kb({factory:function(e){return new(e||t)},imports:[[g.g],g.g]}),t})();var M=i("MutI"),T=i("f0Cb"),P=i("kmnG"),j=i("rDax"),I=i("ofXK"),D=i("vxfF"),A=i("u47x"),B=i("8LU1"),L=i("0EQZ"),V=i("FtGj"),R=i("XNiG"),F=i("NXyV"),N=i("VRyK"),q=i("JX91"),z=i("eIep"),E=i("IzEk"),K=i("pLZG"),G=i("lJxs"),H=i("/uUt"),Y=i("1G5W"),W=i("R0Ic"),X=i("cH1L");const J=["trigger"],U=["panel"];function Q(t,e){if(1&t&&(h.Tb(0,"span",8),h.yc(1),h.Sb()),2&t){const t=h.ec();h.Bb(1),h.zc(t.placeholder)}}function $(t,e){if(1&t&&(h.Tb(0,"span",12),h.yc(1),h.Sb()),2&t){const t=h.ec(2);h.Bb(1),h.zc(t.triggerValue)}}function Z(t,e){1&t&&h.hc(0,0,["*ngSwitchCase","true"])}function tt(t,e){if(1&t&&(h.Tb(0,"span",9),h.wc(1,$,2,1,"span",10),h.wc(2,Z,1,0,"ng-content",11),h.Sb()),2&t){const t=h.ec();h.jc("ngSwitch",!!t.customTrigger),h.Bb(2),h.jc("ngSwitchCase",!0)}}function et(t,e){if(1&t){const t=h.Ub();h.Tb(0,"div",13),h.Tb(1,"div",14,15),h.ac("@transformPanel.done",function(e){return h.qc(t),h.ec()._panelDoneAnimatingStream.next(e.toState)})("keydown",function(e){return h.qc(t),h.ec()._handleKeydown(e)}),h.hc(3,1),h.Sb(),h.Sb()}if(2&t){const t=h.ec();h.jc("@transformPanelWrap",void 0),h.Bb(1),h.Eb("mat-select-panel ",t._getPanelTheme(),""),h.tc("transform-origin",t._transformOrigin)("font-size",t._triggerFontSize,"px"),h.jc("ngClass",t.panelClass)("@transformPanel",t.multiple?"showing-multiple":"showing"),h.Cb("id",t.id+"-panel")("aria-multiselectable",t.multiple)("aria-label",t.ariaLabel||null)("aria-labelledby",t._getPanelAriaLabelledby())}}const it=[[["mat-select-trigger"]],"*"],nt=["mat-select-trigger","*"],at={transformPanelWrap:Object(W.n)("transformPanelWrap",[Object(W.m)("* => void",Object(W.i)("@transformPanel",[Object(W.f)()],{optional:!0}))]),transformPanel:Object(W.n)("transformPanel",[Object(W.k)("void",Object(W.l)({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),Object(W.k)("showing",Object(W.l)({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),Object(W.k)("showing-multiple",Object(W.l)({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),Object(W.m)("void => *",Object(W.e)("120ms cubic-bezier(0, 0, 0.2, 1)")),Object(W.m)("* => void",Object(W.e)("100ms 25ms linear",Object(W.l)({opacity:0})))])};let ot=0;const st=256,rt=new h.r("mat-select-scroll-strategy"),ct=new h.r("MAT_SELECT_CONFIG"),lt={provide:rt,deps:[j.c],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};class dt{constructor(t,e){this.source=t,this.value=e}}class ht{constructor(t,e,i,n,a){this._elementRef=t,this._defaultErrorStateMatcher=e,this._parentForm=i,this._parentFormGroup=n,this.ngControl=a}}const mt=Object(g.t)(Object(g.w)(Object(g.u)(Object(g.v)(ht)))),bt=new h.r("MatSelectTrigger");let pt=(()=>{class t extends mt{constructor(t,e,i,n,a,o,s,r,c,l,d,m,b,p){var u,g,f;super(a,n,s,r,l),this._viewportRuler=t,this._changeDetectorRef=e,this._ngZone=i,this._dir=o,this._parentFormField=c,this.ngControl=l,this._liveAnnouncer=b,this._defaultOptions=p,this._panelOpen=!1,this._compareWith=(t,e)=>t===e,this._uid="mat-select-"+ot++,this._triggerAriaLabelledBy=null,this._destroy=new R.a,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+ot++,this._panelDoneAnimatingStream=new R.a,this._overlayPanelClass=(null===(u=this._defaultOptions)||void 0===u?void 0:u.overlayPanelClass)||"",this._focused=!1,this.controlType="mat-select",this._required=!1,this._multiple=!1,this._disableOptionCentering=null!==(f=null===(g=this._defaultOptions)||void 0===g?void 0:g.disableOptionCentering)&&void 0!==f&&f,this.ariaLabel="",this.optionSelectionChanges=Object(F.a)(()=>{const t=this.options;return t?t.changes.pipe(Object(q.a)(t),Object(z.a)(()=>Object(N.a)(...t.map(t=>t.onSelectionChange)))):this._ngZone.onStable.pipe(Object(E.a)(1),Object(z.a)(()=>this.optionSelectionChanges))}),this.openedChange=new h.n,this._openedStream=this.openedChange.pipe(Object(K.a)(t=>t),Object(G.a)(()=>{})),this._closedStream=this.openedChange.pipe(Object(K.a)(t=>!t),Object(G.a)(()=>{})),this.selectionChange=new h.n,this.valueChange=new h.n,this.ngControl&&(this.ngControl.valueAccessor=this),null!=(null==p?void 0:p.typeaheadDebounceInterval)&&(this._typeaheadDebounceInterval=p.typeaheadDebounceInterval),this._scrollStrategyFactory=m,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(d)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get required(){return this._required}set required(t){this._required=Object(B.b)(t),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(t){this._multiple=Object(B.b)(t)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(t){this._disableOptionCentering=Object(B.b)(t)}get compareWith(){return this._compareWith}set compareWith(t){this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){t!==this._value&&(this.options&&this._setSelectionByValue(t),this._value=t)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(t){this._typeaheadDebounceInterval=Object(B.e)(t)}get id(){return this._id}set id(t){this._id=t||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new L.b(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(Object(H.a)(),Object(Y.a)(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(Object(Y.a)(this._destroy)).subscribe(t=>{t.added.forEach(t=>t.select()),t.removed.forEach(t=>t.deselect())}),this.options.changes.pipe(Object(q.a)(null),Object(Y.a)(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const t=this._getTriggerAriaLabelledby();if(t!==this._triggerAriaLabelledBy){const e=this._elementRef.nativeElement;this._triggerAriaLabelledBy=t,t?e.setAttribute("aria-labelledby",t):e.removeAttribute("aria-labelledby")}this.ngControl&&this.updateErrorState()}ngOnChanges(t){t.disabled&&this.stateChanges.next(),t.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(t){this.value=t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel.selected:this._selectionModel.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const t=this._selectionModel.selected.map(t=>t.viewValue);return this._isRtl()&&t.reverse(),t.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(t){this.disabled||(this.panelOpen?this._handleOpenKeydown(t):this._handleClosedKeydown(t))}_handleClosedKeydown(t){const e=t.keyCode,i=e===V.b||e===V.n||e===V.g||e===V.k,n=e===V.d||e===V.l,a=this._keyManager;if(!a.isTyping()&&n&&!Object(V.q)(t)||(this.multiple||t.altKey)&&i)t.preventDefault(),this.open();else if(!this.multiple){const e=this.selected;a.onKeydown(t);const i=this.selected;i&&e!==i&&this._liveAnnouncer.announce(i.viewValue,1e4)}}_handleOpenKeydown(t){const e=this._keyManager,i=t.keyCode,n=i===V.b||i===V.n,a=e.isTyping();if(n&&t.altKey)t.preventDefault(),this.close();else if(a||i!==V.d&&i!==V.l||!e.activeItem||Object(V.q)(t))if(!a&&this._multiple&&i===V.a&&t.ctrlKey){t.preventDefault();const e=this.options.some(t=>!t.disabled&&!t.selected);this.options.forEach(t=>{t.disabled||(e?t.select():t.deselect())})}else{const i=e.activeItemIndex;e.onKeydown(t),this._multiple&&n&&t.shiftKey&&e.activeItem&&e.activeItemIndex!==i&&e.activeItem._selectViaInteraction()}else t.preventDefault(),e.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this.disabled||this.panelOpen||(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this.overlayDir.positionChange.pipe(Object(E.a)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?"mat-"+this._parentFormField.color:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value),this.stateChanges.next()})}_setSelectionByValue(t){if(this._selectionModel.selected.forEach(t=>t.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&t)Array.isArray(t),t.forEach(t=>this._selectValue(t)),this._sortValues();else{const e=this._selectValue(t);e?this._keyManager.updateActiveItem(e):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectValue(t){const e=this.options.find(e=>{try{return null!=e.value&&this._compareWith(e.value,t)}catch(i){return!1}});return e&&this._selectionModel.select(e),e}_initKeyManager(){this._keyManager=new A.b(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(Object(Y.a)(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(Object(Y.a)(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):this._panelOpen||this.multiple||!this._keyManager.activeItem||this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const t=Object(N.a)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Object(Y.a)(t)).subscribe(t=>{this._onSelect(t.source,t.isUserInput),t.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),Object(N.a)(...this.options.map(t=>t._stateChanges)).pipe(Object(Y.a)(t)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(t,e){const i=this._selectionModel.isSelected(t);null!=t.value||this._multiple?(i!==t.selected&&(t.selected?this._selectionModel.select(t):this._selectionModel.deselect(t)),e&&this._keyManager.setActiveItem(t),this.multiple&&(this._sortValues(),e&&this.focus())):(t.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(t.value)),i!==this._selectionModel.isSelected(t)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const t=this.options.toArray();this._selectionModel.sort((e,i)=>this.sortComparator?this.sortComparator(e,i,t):t.indexOf(e)-t.indexOf(i)),this.stateChanges.next()}}_propagateChanges(t){let e=null;e=this.multiple?this.selected.map(t=>t.value):this.selected?this.selected.value:t,this._value=e,this.valueChange.emit(e),this._onChange(e),this.selectionChange.emit(this._getChangeEvent(e)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){var t;return!this._panelOpen&&!this.disabled&&(null===(t=this.options)||void 0===t?void 0:t.length)>0}focus(t){this._elementRef.nativeElement.focus(t)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const t=this._getLabelId();return this.ariaLabelledby?t+" "+this.ariaLabelledby:t}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getLabelId(){var t;return(null===(t=this._parentFormField)||void 0===t?void 0:t.getLabelId())||""}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;let t=this._getLabelId()+" "+this._valueId;return this.ariaLabelledby&&(t+=" "+this.ariaLabelledby),t}_panelDoneAnimating(t){this.openedChange.emit(t)}setDescribedByIds(t){this._ariaDescribedby=t.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty}}return t.\u0275fac=function(e){return new(e||t)(h.Nb(D.e),h.Nb(h.h),h.Nb(h.A),h.Nb(g.c),h.Nb(h.l),h.Nb(X.b,8),h.Nb(c.o,8),h.Nb(c.h,8),h.Nb(P.a,8),h.Nb(c.l,10),h.Yb("tabindex"),h.Nb(rt),h.Nb(A.i),h.Nb(ct,8))},t.\u0275dir=h.Ib({type:t,viewQuery:function(t,e){if(1&t&&(h.Bc(J,1),h.Bc(U,1),h.Bc(j.a,1)),2&t){let t;h.nc(t=h.bc())&&(e.trigger=t.first),h.nc(t=h.bc())&&(e.panel=t.first),h.nc(t=h.bc())&&(e.overlayDir=t.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],id:"id",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",typeaheadDebounceInterval:"typeaheadDebounceInterval",panelClass:"panelClass",ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",sortComparator:"sortComparator"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[h.yb,h.zb]}),t})(),ut=(()=>{class t extends pt{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(t,e,i){const n=this._getItemHeight();return Math.min(Math.max(0,n*t-e+n/2),i)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(Object(Y.a)(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe(Object(E.a)(1)).subscribe(()=>{this._triggerFontSize&&this.overlayDir.overlayRef&&this.overlayDir.overlayRef.overlayElement&&(this.overlayDir.overlayRef.overlayElement.style.fontSize=this._triggerFontSize+"px")}))}_scrollOptionIntoView(t){const e=Object(g.q)(t,this.options,this.optionGroups),i=this._getItemHeight();this.panel.nativeElement.scrollTop=Object(g.r)((t+e)*i,i,this.panel.nativeElement.scrollTop,st)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(t){this.panelOpen?this._scrollTop=0:(this.overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(t)}_getChangeEvent(t){return new dt(this,t)}_calculateOverlayOffsetX(){const t=this.overlayDir.overlayRef.overlayElement.getBoundingClientRect(),e=this._viewportRuler.getViewportSize(),i=this._isRtl(),n=this.multiple?56:32;let a;if(this.multiple)a=40;else if(this.disableOptionCentering)a=16;else{let t=this._selectionModel.selected[0]||this.options.first;a=t&&t.group?32:16}i||(a*=-1);const o=0-(t.left+a-(i?n:0)),s=t.right+a-e.width+(i?0:n);o>0?a+=o+8:s>0&&(a-=s+8),this.overlayDir.offsetX=Math.round(a),this.overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(t,e,i){const n=this._getItemHeight(),a=(n-this._triggerRect.height)/2,o=Math.floor(st/n);let s;return this.disableOptionCentering?0:(s=0===this._scrollTop?t*n:this._scrollTop===i?(t-(this._getItemCount()-o))*n+(n-(this._getItemCount()*n-st)%n):e-n/2,Math.round(-1*s-a))}_checkOverlayWithinViewport(t){const e=this._getItemHeight(),i=this._viewportRuler.getViewportSize(),n=this._triggerRect.top-8,a=i.height-this._triggerRect.bottom-8,o=Math.abs(this._offsetY),s=Math.min(this._getItemCount()*e,st)-o-this._triggerRect.height;s>a?this._adjustPanelUp(s,a):o>n?this._adjustPanelDown(o,n,t):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(t,e){const i=Math.round(t-e);this._scrollTop-=i,this._offsetY-=i,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(t,e,i){const n=Math.round(t-e);if(this._scrollTop+=n,this._offsetY+=n,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=i)return this._scrollTop=i,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const t=this._getItemHeight(),e=this._getItemCount(),i=Math.min(e*t,st),n=e*t-i;let a;a=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),a+=Object(g.q)(a,this.options,this.optionGroups);const o=i/2;this._scrollTop=this._calculateOverlayScroll(a,o,n),this._offsetY=this._calculateOverlayOffsetY(a,o,n),this._checkOverlayWithinViewport(n)}_getOriginBasedOnOption(){const t=this._getItemHeight(),e=(t-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-e+t/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return t.\u0275fac=function(e){return gt(e||t)},t.\u0275cmp=h.Hb({type:t,selectors:[["mat-select"]],contentQueries:function(t,e,i){if(1&t&&(h.Gb(i,bt,1),h.Gb(i,g.j,1),h.Gb(i,g.d,1)),2&t){let t;h.nc(t=h.bc())&&(e.customTrigger=t.first),h.nc(t=h.bc())&&(e.options=t),h.nc(t=h.bc())&&(e.optionGroups=t)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(t,e){1&t&&h.ac("keydown",function(t){return e._handleKeydown(t)})("focus",function(){return e._onFocus()})("blur",function(){return e._onBlur()}),2&t&&(h.Cb("id",e.id)("tabindex",e.tabIndex)("aria-controls",e.panelOpen?e.id+"-panel":null)("aria-expanded",e.panelOpen)("aria-label",e.ariaLabel||null)("aria-required",e.required.toString())("aria-disabled",e.disabled.toString())("aria-invalid",e.errorState)("aria-describedby",e._ariaDescribedby||null)("aria-activedescendant",e._getAriaActiveDescendant()),h.Fb("mat-select-disabled",e.disabled)("mat-select-invalid",e.errorState)("mat-select-required",e.required)("mat-select-empty",e.empty)("mat-select-multiple",e.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[h.Ab([{provide:P.d,useExisting:t},{provide:g.e,useExisting:t}]),h.yb],ngContentSelectors:nt,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(t,e){if(1&t&&(h.ic(it),h.Tb(0,"div",0,1),h.ac("click",function(){return e.toggle()}),h.Tb(3,"div",2),h.wc(4,Q,2,1,"span",3),h.wc(5,tt,3,2,"span",4),h.Sb(),h.Tb(6,"div",5),h.Ob(7,"div",6),h.Sb(),h.Sb(),h.wc(8,et,4,14,"ng-template",7),h.ac("backdropClick",function(){return e.close()})("attach",function(){return e._onAttached()})("detach",function(){return e.close()})),2&t){const t=h.oc(1);h.Cb("aria-owns",e.panelOpen?e.id+"-panel":null),h.Bb(3),h.jc("ngSwitch",e.empty),h.Cb("id",e._valueId),h.Bb(1),h.jc("ngSwitchCase",!0),h.Bb(1),h.jc("ngSwitchCase",!1),h.Bb(3),h.jc("cdkConnectedOverlayPanelClass",e._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",e._scrollStrategy)("cdkConnectedOverlayOrigin",t)("cdkConnectedOverlayOpen",e.panelOpen)("cdkConnectedOverlayPositions",e._positions)("cdkConnectedOverlayMinWidth",null==e._triggerRect?null:e._triggerRect.width)("cdkConnectedOverlayOffsetY",e._offsetY)}},directives:[j.b,I.m,I.n,j.a,I.o,I.i],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-table;cursor:pointer;position:relative;box-sizing:border-box}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-select-value{display:table-cell;max-width:0;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{display:table-cell;vertical-align:middle}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px}\n'],encapsulation:2,data:{animation:[at.transformPanelWrap,at.transformPanel]},changeDetection:0}),t})();const gt=h.Vb(ut);let ft=(()=>{class t{}return t.\u0275mod=h.Lb({type:t}),t.\u0275inj=h.Kb({factory:function(e){return new(e||t)},providers:[lt],imports:[[I.c,j.f,g.k,g.g],D.b,P.e,g.k,g.g]}),t})();const vt=["video"];function _t(t,e){if(1&t&&(h.Tb(0,"mat-option",13),h.yc(1),h.Sb()),2&t){const t=e.$implicit;h.jc("value",t),h.Bb(1),h.Ac(" ",t.label," ")}}let yt=(()=>{class t{constructor(t,e){this._fb=t,this.userSetup=e,this._devices=new d.a([]),this.devices$=this._devices.asObservable(),this.form=this._fb.group({pitch:[0,[c.q.min(-2),c.q.max(2)]],devices:this._fb.group({video:["",c.q.required]})})}ngOnInit(){const t=this.userSetup.getStoredValue();this.form.patchValue(t||{}),this.form.get("devices.video").value&&this.getStream(this.form.get("devices.video").value)}ngAfterViewInit(){r("videoinput").then(t=>this._devices.next(t))}onDeviceChange(t){Object(l.b)(this.stream),t&&this.getStream(t)}toggleVideo(){var t;(null===(t=this.stream)||void 0===t?void 0:t.active)?Object(l.b)(this.stream):this.getStream(this.form.get("devices.video").value)}getStream(t){return Object(a.a)(this,void 0,void 0,function*(){return navigator.mediaDevices.getUserMedia((t=>s(t,"video"))(t)).then(t=>this.gotStream(this.video,t))})}gotStream({nativeElement:t},e){t.srcObject=e,this.stream=e}compareFn(t,e){return t&&e?t.deviceId===e.deviceId:t===e}onSave(){this.form.valid&&(this.userSetup.update(this.form.value),this.form.markAsPristine())}ngOnDestroy(){this.stream&&Object(l.b)(this.stream)}}return t.\u0275fac=function(e){return new(e||t)(h.Nb(c.c),h.Nb(o.b))},t.\u0275cmp=h.Hb({type:t,selectors:[["speek-camera"]],viewQuery:function(t,e){if(1&t&&h.Bc(vt,1),2&t){let t;h.nc(t=h.bc())&&(e.video=t.first)}},decls:36,vars:7,consts:[["routerLink","/","mat-icon-button",""],[1,"brand-name"],["mat-list-icon",""],["mat-line",""],["type","button","mat-icon-button","",3,"click"],["muted","","autoplay","","playsinline","","poster","/assets/images/logo.svg"],["video",""],[3,"formGroup"],["color","accent","appearance","outline","formGroupName","devices"],["formControlName","video",3,"compareWith","selectionChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],["type","button","mat-fab","",3,"disabled","click"],[3,"value"]],template:function(t,e){1&t&&(h.Tb(0,"speek-toolbar"),h.Tb(1,"a",0),h.Tb(2,"mat-icon"),h.yc(3,"arrow_backward"),h.Sb(),h.Sb(),h.Tb(4,"span",1),h.yc(5,"v\xeddeo"),h.Sb(),h.Sb(),h.Tb(6,"mat-card"),h.Tb(7,"mat-card-content"),h.Tb(8,"mat-list"),h.Tb(9,"mat-list-item"),h.Tb(10,"mat-icon",2),h.yc(11,"video_settings"),h.Sb(),h.Tb(12,"h3",3),h.yc(13,"V\xeddeo"),h.Sb(),h.Tb(14,"button",4),h.ac("click",function(){return e.toggleVideo()}),h.Tb(15,"mat-icon"),h.yc(16),h.Sb(),h.Sb(),h.Sb(),h.Sb(),h.Ob(17,"mat-divider"),h.Tb(18,"section"),h.Ob(19,"video",5,6),h.Sb(),h.Ob(21,"mat-divider"),h.Tb(22,"form",7),h.Tb(23,"mat-form-field",8),h.Tb(24,"mat-label"),h.yc(25,"Entrada de v\xeddeo"),h.Sb(),h.Tb(26,"mat-select",9),h.ac("selectionChange",function(t){return e.onDeviceChange(t.value)}),h.Tb(27,"mat-option",10),h.yc(28," Selecione um dispositivo "),h.Sb(),h.wc(29,_t,2,2,"mat-option",11),h.fc(30,"async"),h.Sb(),h.Tb(31,"mat-error"),h.yc(32,"Selecione um dispositivo"),h.Sb(),h.Sb(),h.Sb(),h.Sb(),h.Sb(),h.Tb(33,"button",12),h.ac("click",function(){return e.onSave()}),h.Tb(34,"mat-icon"),h.yc(35,"check"),h.Sb(),h.Sb()),2&t&&(h.Bb(16),h.Ac(" ",null!=e.stream&&e.stream.active?"videocam_off":"videocam"," "),h.Bb(6),h.jc("formGroup",e.form),h.Bb(4),h.jc("compareWith",e.compareFn),h.Bb(3),h.jc("ngForOf",h.gc(30,5,e.devices$)),h.Bb(4),h.jc("disabled",e.form.invalid))},directives:[m.a,n.c,b.a,p.a,S,O,M.a,M.c,M.b,g.h,b.b,T.a,c.r,c.n,c.h,P.c,c.i,P.g,ut,c.m,c.f,g.j,I.j,P.b],pipes:[I.b],styles:["[_nghost-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:center;align-items:center}[_nghost-%COMP%]   .mat-card[_ngcontent-%COMP%]{display:flex;flex-direction:column}[_nghost-%COMP%]   .mat-card[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%] > section[_ngcontent-%COMP%]{position:relative;padding-bottom:56.25%;height:0}[_nghost-%COMP%]   .mat-card[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%] > section[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%}[_nghost-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{bottom:0;width:300px;margin:10px}[_nghost-%COMP%]   .mat-fab[_ngcontent-%COMP%]{position:absolute;right:20px;bottom:20px}"]}),t})();var Ot=i("7+mf"),Ct=i("Qdhi");const wt=["localAudio"];let St=(()=>{class t{constructor(t){this._fb=t,this.form=this._fb.group({sendTones:[{value:"",disabled:!0}],duration:[500],gap:[50],tones:["1199##9,6633221,9966332,9966332,1199##9,6633221"]}),this.gap=new c.d(50),this.duration=new c.d(500)}ngOnInit(){}onClicked(t){console.log(t)}call(){console.log(this.audio)}sendTones(){}}return t.\u0275fac=function(e){return new(e||t)(h.Nb(c.c))},t.\u0275cmp=h.Hb({type:t,selectors:[["speek-dialup"]],viewQuery:function(t,e){if(1&t&&(h.Bc(wt,1),h.Bc(Ot.c,1)),2&t){let t;h.nc(t=h.bc())&&(e.audioRef=t.first),h.nc(t=h.bc())&&(e.dialPad=t.first)}},decls:1,vars:0,consts:[[3,"onClick"]],template:function(t,e){1&t&&(h.Tb(0,"speek-dialpad",0),h.ac("onClick",function(t){return e.onClicked(t)}),h.Sb())},directives:[Ct.a],styles:["[_nghost-%COMP%]{flex:1;display:flex;flex-direction:column}[_nghost-%COMP%]   form[_ngcontent-%COMP%]{flex:1}[_nghost-%COMP%]   section[_ngcontent-%COMP%]{padding:0 12px;display:flex;justify-content:space-between;align-items:center}"]}),t})(),xt=(()=>{class t{constructor(t,e){this._router=t,this._share=e,this.destroy=new R.a}share(){this._share.open().pipe(Object(Y.a)(this.destroy)).subscribe(t=>this.go(t))}go(t){t&&this._router.navigate(["/",t])}ngOnDestroy(){this.destroy.next(),this.destroy.complete()}}return t.\u0275fac=function(e){return new(e||t)(h.Nb(n.b),h.Nb(Ot.k))},t.\u0275cmp=h.Hb({type:t,selectors:[["speek-home"]],decls:31,vars:0,consts:[["routerLink","/","aria-label","Home","mat-icon-button",""],["svgIcon","speek-logo"],[1,"brand-name"],["mat-card-subtitle",""],["mat-list-item","","routerLink","/create","aria-label","Iniciar conversa"],["mat-list-item","","routerLink","/invite","aria-label","Acessar conversa"],["mat-subheader",""],["mat-list-item","","routerLink","/voice","aria-label","Tom de voz"],["mat-list-item","","routerLink","/camera","aria-label","C\xe2mera"],["mat-fab","","aria-label","Compartilhar",3,"click"]],template:function(t,e){1&t&&(h.Tb(0,"speek-toolbar"),h.Tb(1,"a",0),h.Ob(2,"mat-icon",1),h.Sb(),h.Tb(3,"span",2),h.yc(4,"speek"),h.Sb(),h.Sb(),h.Tb(5,"mat-card"),h.Tb(6,"mat-card-header"),h.Tb(7,"h1",3),h.yc(8,"Como quer come\xe7ar?"),h.Sb(),h.Sb(),h.Tb(9,"mat-card-content"),h.Tb(10,"mat-nav-list"),h.Tb(11,"a",4),h.yc(12,"Iniciar conversa"),h.Sb(),h.Tb(13,"a",5),h.yc(14,"Acessar conversa"),h.Sb(),h.Ob(15,"mat-divider"),h.Tb(16,"h3",6),h.yc(17,"Configura\xe7\xf5es"),h.Sb(),h.Tb(18,"a",7),h.Tb(19,"mat-icon"),h.yc(20,"settings_voice"),h.Sb(),h.Tb(21,"span"),h.yc(22,"\xc1udio"),h.Sb(),h.Sb(),h.Tb(23,"a",8),h.Tb(24,"mat-icon"),h.yc(25,"videocam"),h.Sb(),h.Tb(26,"span"),h.yc(27,"V\xeddeo"),h.Sb(),h.Sb(),h.Sb(),h.Sb(),h.Sb(),h.Tb(28,"button",9),h.ac("click",function(){return e.share()}),h.Tb(29,"mat-icon"),h.yc(30,"share"),h.Sb(),h.Sb())},directives:[m.a,n.c,b.a,p.a,S,x,C,O,M.f,M.c,T.a,M.e,b.b],styles:['[_nghost-%COMP%]{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:space-evenly;position:relative}[_nghost-%COMP%]:before{content:" ";width:100%;height:100%;position:absolute;background-image:url(/assets/images/spheers.svg);background-position-x:center;background-position-y:center;background-repeat:no-repeat;background-size:280%;opacity:.1;transition:filter .25s ease-in-out,opacity .5s ease-in-out,background-size .4s ease-in-out}[_nghost-%COMP%]:hover:before{opacity:.2;background-size:180%}[_nghost-%COMP%]   .mat-nav-list[_ngcontent-%COMP%]{letter-spacing:1.2px}[_nghost-%COMP%]   .mat-nav-list[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin-right:12px}[_nghost-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:120px;position:absolute;visibility:hidden;transition:visibility .6s ease-in-out}[_nghost-%COMP%]   .mat-form-field.active[_ngcontent-%COMP%]{visibility:visible}[_nghost-%COMP%]   .mat-fab[_ngcontent-%COMP%]{position:absolute;right:20px;bottom:20px}']}),t})();var kt=function(t){return t.CreateOrJoin="create-or-join",t.Created="created",t.Exited="exited",t.Ready="ready",t.Joined="joined",t.Full="full",t.Candidate="candidate",t.Connection="connection",t.Offer="offer",t.Answer="answer",t}({});class Mt{constructor(t,e,i){this.sender=t,this.code=e,this.data=i}}class Tt{constructor({code:t,start:e,end:i=0}){this.end=0,e||(e=(new Date).getTime()),this.code=t,this.start=e,this.end=i}get duration(){return this.start-this.end}static fromJson(t){return new Tt(t)}serialize(){return{code:this.code,start:this.start,end:this.end,duration:this.duration}}toJSON(){return{code:this.code,start:new Date(this.start),end:0===this.end?null:new Date(this.end),duration:this.duration}}}var Pt=i("597B"),jt=i("WGO7");const It=["local"],Dt=["remote"];let At=(()=>{class t{constructor(t,e,i,n,a,o,s,r){this.router=t,this.peer=e,this.share=i,this.route=n,this.drawer=a,this.userRoom=o,this.userSetup=s,this.signaling=r,this.destroy=new R.a,this._audio=new d.a(!0),this.audio=this._audio.asObservable(),this._video=new d.a(!0),this.video=this._video.asObservable(),this.sender=jt.a.short(),this.state=new R.a,this.onState=this.state.asObservable(),this.track=new R.a,this.onTrack=this.track.asObservable();const{code:c}=this.route.snapshot.params;this.code=c}ngOnInit(){this.signaling.on(kt.Offer).pipe(Object(Y.a)(this.destroy)).subscribe(t=>this.handle(t));const t=new Mt(this.sender,this.code);this.signaling.send(kt.CreateOrJoin,t),this.peer.onChange.subscribe(t=>{this.state.next(t.signalingState)}),this.peer.onCandidate.pipe(Object(Y.a)(this.destroy)).subscribe(t=>{t&&this.sendOffer({ice:t})}),this.peer.onTrack.pipe(Object(Y.a)(this.destroy)).subscribe(t=>{this.track.next(t),t&&(this.remote.srcObject=t,t.onremovetrack=t=>{this.remote.srcObject=null})})}ngAfterViewInit(){this.local=this.localRef.nativeElement,this.remote=this.remoteRef.nativeElement,this.signaling.on(kt.Created).subscribe(t=>this.setLocal(t)),this.signaling.on(kt.Joined).subscribe(t=>this.setLocal(t))}handle({data:t,sender:e}){return Object(a.a)(this,void 0,void 0,function*(){try{e!==this.sender&&(Object(jt.f)(this.peer.connection)&&Object(jt.e)(t.ice)&&this.peer.addCandidate(t.ice),t.sdp&&this.makeChoice(t.sdp))}catch(i){throw new Error("handle-message: "+i)}})}makeChoice(t){return Object(a.a)(this,void 0,void 0,function*(){switch(t.type){case kt.Offer:return this.peer.createAnswer(t).then(t=>{this.sendOffer({sdp:t})});case kt.Answer:return this.peer.setRemote(t)}})}setLocal(t){navigator.mediaDevices.getUserMedia({video:!0,audio:!0}).then(t=>{this.local.muted=!0,this.localStream=t,this.local.srcObject=t;const e=this.gotVoice(t),i=e.stream.getAudioTracks();this.peer.connection.addTrack(i.shift(),e.stream);const n=t.getVideoTracks();this.peer.connection.addTrack(n.shift(),e.stream),this.peer.createOffer().then(t=>this.sendOffer({sdp:t}))})}gotVoice(t){var e;const i=new AudioContext,n=i.createMediaStreamSource(t),a=i.createMediaStreamDestination(),o=i.createDelay();o.delayTime.value=0,n.connect(o);const s=new l.a(i),{pitch:r=1.5}=null!==(e=this.userSetup.getStoredValue())&&void 0!==e?e:{};return s.setPitchOffset(r),o.connect(s.input),s.output.connect(a),a}sendOffer(t){this.signaling.send(kt.Offer,new Mt(this.sender,this.code,t))}toggleAudio(){const t=!this._audio.getValue();this.localStream.getAudioTracks().forEach(e=>e.enabled=t),this._audio.next(t)}toggleVideo(){const t=!this._video.getValue();this.localStream.getVideoTracks().forEach(e=>e.enabled=t),this._video.next(t)}hangup(){this.router.navigate(["/"])}ngOnDestroy(){var t;this.destroy.next(),this.destroy.complete(),this.localStream&&Object(l.b)(this.localStream),(null===(t=this.peer)||void 0===t?void 0:t.connection)&&console.log("close")}}return t.\u0275fac=function(e){return new(e||t)(h.Nb(n.b),h.Nb(Pt.a),h.Nb(Ot.k),h.Nb(n.a),h.Nb(Ot.g),h.Nb(o.a),h.Nb(o.b),h.Nb(Pt.c))},t.\u0275cmp=h.Hb({type:t,selectors:[["speek-room"]],viewQuery:function(t,e){if(1&t&&(h.Bc(It,1),h.Bc(Dt,1)),2&t){let t;h.nc(t=h.bc())&&(e.localRef=t.first),h.nc(t=h.bc())&&(e.remoteRef=t.first)}},decls:27,vars:10,consts:[["routerLink","/","aria-label","Home","mat-icon-button",""],[1,"brand-name","truncate"],["autoplay","","playsinline","","muted","",1,"remote"],["remote",""],["autoplay","","playsinline","","muted","",1,"local"],["local",""],["mat-button","",3,"click"],["mat-fab","","color","warn",1,"call-end",3,"disabled","click"]],template:function(t,e){1&t&&(h.Tb(0,"speek-toolbar"),h.Tb(1,"a",0),h.Tb(2,"mat-icon"),h.yc(3,"arrow_backward"),h.Sb(),h.Sb(),h.Tb(4,"span",1),h.yc(5),h.Sb(),h.Sb(),h.Ob(6,"video",2,3),h.Tb(8,"mat-card"),h.Ob(9,"video",4,5),h.Tb(11,"mat-card-actions"),h.Tb(12,"button",6),h.ac("click",function(){return e.toggleAudio()}),h.Tb(13,"mat-icon"),h.yc(14),h.fc(15,"async"),h.Sb(),h.Sb(),h.Tb(16,"button",6),h.ac("click",function(){return e.toggleVideo()}),h.Tb(17,"mat-icon"),h.yc(18),h.fc(19,"async"),h.Sb(),h.Sb(),h.Tb(20,"button",6),h.ac("click",function(){return e.drawer.toggle()}),h.Tb(21,"mat-icon"),h.yc(22,"settings"),h.Sb(),h.Sb(),h.Sb(),h.Sb(),h.Tb(23,"button",7),h.ac("click",function(){return e.hangup()}),h.fc(24,"async"),h.Tb(25,"mat-icon"),h.yc(26,"call_end"),h.Sb(),h.Sb()),2&t&&(h.Bb(5),h.zc(e.code),h.Bb(9),h.zc(h.gc(15,4,e.audio)?"mic":"mic_off"),h.Bb(4),h.zc(h.gc(19,6,e.video)?"videocam":"videocam_off"),h.Bb(5),h.jc("disabled","stable"!=h.gc(24,8,e.onState)))},directives:[m.a,n.c,b.a,p.a,S,w,b.b],pipes:[I.b],styles:["[_nghost-%COMP%]{flex:1;display:flex;flex-direction:column;overflow:hidden;background:#090909}[_nghost-%COMP%]   .brand-name[_ngcontent-%COMP%]{opacity:.5}[_nghost-%COMP%]   video[_ngcontent-%COMP%]{width:100%;max-width:100%;max-height:100%;object-fit:cover;vertical-align:top;flex:1}[_nghost-%COMP%]   .mat-card[_ngcontent-%COMP%]{border-top-left-radius:12px;position:absolute;min-width:220px;width:25%;bottom:16px;right:0}[_nghost-%COMP%]   .mat-card[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .mat-card[_ngcontent-%COMP%]   video.remote[_ngcontent-%COMP%]{object-fit:cover}[_nghost-%COMP%]   .mat-card-actions[_ngcontent-%COMP%]{margin:0;display:flex;flex-direction:row;padding:0}[_nghost-%COMP%]   .mat-card-actions[_ngcontent-%COMP%]:last-child{margin-bottom:0}[_nghost-%COMP%]   .mat-card-actions[_ngcontent-%COMP%]   .mat-button-base[_ngcontent-%COMP%]{flex:1;padding:3px}[_nghost-%COMP%]   .call-end[_ngcontent-%COMP%]{position:absolute;bottom:20px;left:20px}"]}),t})();var Bt=i("qFsG"),Lt=i("a7DZ");function Vt(t,e){if(1&t&&(h.Rb(0),h.Ob(1,"speek-door",6),h.Qb()),2&t){const t=h.ec();h.Bb(1),h.jc("comeInOut",t.comeInOut)("opened",t.code.valid)}}let Rt=(()=>{class t{constructor(t,e){this._router=t,this._route=e,this.pitch=1,this.enter=!1,this.form=new c.g({code:new c.d("",[c.q.required,c.q.pattern(jt.a.regex)]),pitch:new c.d(0,[c.q.min(-1.2),c.q.max(1.2)])},{updateOn:"blur"}),this.comeInOut=new d.a(!1)}get code(){return this.form.get("code")}ngOnInit(){}onClick(){this._router.navigate([".."],{queryParams:{pitch:this.pitch},relativeTo:this._route})}onChange(t){this.pitch=t}onLogin(){this.code.valid?(this.comeInOut.next(!this.comeInOut.value),this.enter=!0,setTimeout(()=>{this._router.navigate(["/",this.code.value])},3e3)):(this.comeInOut.next(!this.comeInOut.value),this.comeInOut.next(!this.comeInOut.value))}onSubmit(){this.form.valid&&this._router.navigate(["/",jt.a.long()])}}return t.\u0275fac=function(e){return new(e||t)(h.Nb(n.b),h.Nb(n.a))},t.\u0275cmp=h.Hb({type:t,selectors:[["speek-hall"]],decls:20,vars:3,consts:[["routerLink","/","mat-icon-button",""],[1,"brand-name"],[4,"ngIf"],["appearance","outline","color","accent"],["matInput","","autofocus","","cdkFocusInitial","",3,"formControl"],["type","button","mat-fab","",3,"disabled","click"],[3,"comeInOut","opened"]],template:function(t,e){1&t&&(h.Tb(0,"speek-toolbar"),h.Tb(1,"a",0),h.Tb(2,"mat-icon"),h.yc(3,"arrow_backward"),h.Sb(),h.Sb(),h.Tb(4,"span",1),h.yc(5,"convidado"),h.Sb(),h.Sb(),h.wc(6,Vt,2,2,"ng-container",2),h.Tb(7,"mat-card"),h.Tb(8,"mat-card-content"),h.Tb(9,"mat-form-field",3),h.Tb(10,"mat-label"),h.yc(11,"Entre com o c\xf3digo"),h.Sb(),h.Ob(12,"input",4),h.Tb(13,"mat-hint"),h.yc(14,"C\xf3dgo de acesso"),h.Sb(),h.Tb(15,"mat-error"),h.yc(16,"C\xf3digo inv\xe1lido"),h.Sb(),h.Sb(),h.Sb(),h.Sb(),h.Tb(17,"button",5),h.ac("click",function(){return e.onSubmit()}),h.Tb(18,"mat-icon"),h.yc(19,"phone_forwarded"),h.Sb(),h.Sb()),2&t&&(h.Bb(6),h.jc("ngIf",e.code.valid),h.Bb(6),h.jc("formControl",e.code),h.Bb(5),h.jc("disabled",e.code.invalid))},directives:[m.a,n.c,b.a,p.a,I.k,S,O,P.c,P.g,Bt.a,c.b,c.m,c.e,P.f,P.b,b.b,Lt.a],styles:["[_nghost-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:space-evenly;align-items:center}[_nghost-%COMP%]   .mat-card[_ngcontent-%COMP%]{visibility:visible;opacity:1;transition:visibility 1.5s ease-in-out,opacity 1.5s ease-in-out}[_nghost-%COMP%]   .mat-card.hide[_ngcontent-%COMP%]{visibility:hidden;opacity:0}[_nghost-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:300px;margin:10px}[_nghost-%COMP%]   .mat-fab[_ngcontent-%COMP%]{position:absolute;right:20px;bottom:20px}[_nghost-%COMP%]   .mat-dialog-actions[_ngcontent-%COMP%]{flex:1;justify-content:space-between}"]}),t})();var Ft=i("5RNC");const Nt=["canvas"];function qt(t,e){if(1&t&&(h.Tb(0,"mat-option",13),h.yc(1),h.Sb()),2&t){const t=e.$implicit;h.jc("value",t),h.Bb(1),h.Ac(" ",t.label," ")}}let zt=(()=>{class t{constructor(t,e){this._fb=t,this.userSetup=e,this._devices=new d.a([]),this.devices$=this._devices.asObservable(),this.form=this._fb.group({pitch:[0,[c.q.min(-2),c.q.max(2)]],devices:this._fb.group({audio:["",c.q.required]})}),this._destroy=new R.a}ngOnInit(){const t=this.userSetup.getStoredValue();this.form.patchValue(t||{}),this.form.get("devices.audio").value&&this.getStream(this.form.get("devices.audio").value)}ngAfterViewInit(){r("audioinput").then(t=>{this._devices.next(t.map(t=>t.toJSON()))}),navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0}}).then(t=>this.gotStream(t))}onDeviceChange(t){Object(l.b)(this.stream),t&&this.getStream(t)}getStream(t){return Object(a.a)(this,void 0,void 0,function*(){return navigator.mediaDevices.getUserMedia((t=>s(t,"audio"))(t)).then(t=>this.gotStream(t))})}gotStream(t){this.stream=t;const e=new AudioContext,i=e.createMediaStreamSource(t),n=e.createAnalyser(),a=e.createDelay();a.delayTime.value=0,i.connect(a);const o=new l.a(e),{value:s}=this.form.get("pitch");o.setPitchOffset(s),a.connect(o.input),o.output.connect(e.destination),o.output.connect(n),Object(Ot.p)(this.canvas.nativeElement,n),this.form.valueChanges.pipe(Object(Y.a)(this._destroy)).subscribe(({pitch:t})=>{o.setPitchOffset(t)})}compareFn(t,e){return t&&e?t.deviceId===e.deviceId:t===e}onSave(){this.form.valid&&(this.userSetup.update(this.form.value),this.form.markAsPristine())}ngOnDestroy(){this.stream&&Object(l.b)(this.stream),this._destroy.next(),this._destroy.complete()}}return t.\u0275fac=function(e){return new(e||t)(h.Nb(c.c),h.Nb(o.b))},t.\u0275cmp=h.Hb({type:t,selectors:[["speek-voice"]],viewQuery:function(t,e){if(1&t&&h.Bc(Nt,1),2&t){let t;h.nc(t=h.bc())&&(e.canvas=t.first)}},decls:44,vars:6,consts:[["routerLink","/","mat-icon-button",""],[1,"brand-name"],[3,"formGroup"],["mat-list-icon",""],["mat-line",""],["canvas",""],["color","accent","appearance","outline","formGroupName","devices"],["formControlName","audio",3,"compareWith","selectionChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],["mat-subheader",""],["min","-1","max","1","step","0.1","thumbLabel","","formControlName","pitch"],["type","button","mat-fab","",3,"disabled","click"],[3,"value"]],template:function(t,e){1&t&&(h.Tb(0,"speek-toolbar"),h.Tb(1,"a",0),h.Tb(2,"mat-icon"),h.yc(3,"arrow_backward"),h.Sb(),h.Sb(),h.Tb(4,"span",1),h.yc(5,"\xe1udio"),h.Sb(),h.Sb(),h.Tb(6,"mat-card"),h.Tb(7,"mat-card-content"),h.Tb(8,"form",2),h.Tb(9,"mat-list"),h.Tb(10,"mat-list-item"),h.Tb(11,"mat-icon",3),h.yc(12,"graphic_eq"),h.Sb(),h.Tb(13,"h3",4),h.yc(14,"Gr\xe1fico equalizador"),h.Sb(),h.Sb(),h.Sb(),h.Ob(15,"mat-divider"),h.Ob(16,"canvas",null,5),h.Ob(18,"mat-divider"),h.Tb(19,"mat-form-field",6),h.Tb(20,"mat-label"),h.yc(21,"Entrada de \xe1udio"),h.Sb(),h.Tb(22,"mat-select",7),h.ac("selectionChange",function(t){return e.onDeviceChange(t.value)}),h.Tb(23,"mat-option",8),h.yc(24," Selecione um dispositivo "),h.Sb(),h.wc(25,qt,2,2,"mat-option",9),h.fc(26,"async"),h.Sb(),h.Tb(27,"mat-hint"),h.yc(28,"Este ser\xe1 seu microfone"),h.Sb(),h.Tb(29,"mat-error"),h.yc(30,"Selecione um dispositivo"),h.Sb(),h.Sb(),h.Ob(31,"mat-divider"),h.Tb(32,"mat-list"),h.Tb(33,"h3",10),h.yc(34,"Arraste para ajustar o tom da sua voz"),h.Sb(),h.Sb(),h.Tb(35,"section"),h.Tb(36,"span"),h.yc(37,"-1"),h.Sb(),h.Ob(38,"mat-slider",11),h.Tb(39,"span"),h.yc(40,"1"),h.Sb(),h.Sb(),h.Sb(),h.Sb(),h.Sb(),h.Tb(41,"button",12),h.ac("click",function(){return e.onSave()}),h.Tb(42,"mat-icon"),h.yc(43,"check"),h.Sb(),h.Sb()),2&t&&(h.Bb(8),h.jc("formGroup",e.form),h.Bb(14),h.jc("compareWith",e.compareFn),h.Bb(3),h.jc("ngForOf",h.gc(26,4,e.devices$)),h.Bb(16),h.jc("disabled",!e.form.dirty))},directives:[m.a,n.c,b.a,p.a,S,O,c.r,c.n,c.h,M.a,M.c,M.b,g.h,T.a,P.c,c.i,P.g,ut,c.m,c.f,g.j,I.j,P.f,P.b,M.e,Ft.a,b.b],pipes:[I.b],styles:["[_nghost-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:center;align-items:center}[_nghost-%COMP%]   .mat-card[_ngcontent-%COMP%], [_nghost-%COMP%]   .mat-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column}[_nghost-%COMP%]   .mat-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{position:relative}[_nghost-%COMP%]   .mat-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .mat-divider[_ngcontent-%COMP%]{position:unset}[_nghost-%COMP%]   .mat-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%] > section[_ngcontent-%COMP%]{display:flex;align-items:center;padding:0 10px}[_nghost-%COMP%]   .mat-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%] > section[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{letter-spacing:2px;display:inline-flex}[_nghost-%COMP%]   .mat-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%] > section[_ngcontent-%COMP%]   .mat-slider[_ngcontent-%COMP%]{flex:1}[_nghost-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{bottom:0;width:300px;margin:10px}[_nghost-%COMP%]   .mat-fab[_ngcontent-%COMP%]{position:absolute;right:20px;bottom:20px}"]}),t})();const Et=["canvas"];function Kt(t,e){if(1&t&&(h.Rb(0),h.Ob(1,"speek-door",10),h.Qb()),2&t){const t=h.ec();h.Bb(1),h.jc("comeInOut",t.comeInOut)("opened",t.code.valid)}}let Gt=(()=>{class t{constructor(t,e,i,n){this._fb=t,this._router=e,this._route=i,this.userSetup=n,this._destroy=new R.a,this.code=new c.d("",[c.q.required,c.q.pattern(jt.a.regex)]),this.form=this._fb.group({pitch:[0,[c.q.min(-2),c.q.max(2)]]}),this.comeInOut=new d.a(!1),this.enter=!1;const{code:a}=this._route.snapshot.params;console.log(a),a&&this.code.setValue(a)}ngOnInit(){const t=this.userSetup.getStoredValue();this.form.patchValue(t||{})}ngAfterViewInit(){navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0}}).then(t=>this.gotStream(t))}gotStream(t){this.stream=t;const e=new AudioContext,i=e.createMediaStreamSource(t),n=e.createAnalyser(),a=e.createDelay();a.delayTime.value=0,i.connect(a);const o=new l.a(e),{value:s}=this.form.get("pitch");o.setPitchOffset(s),a.connect(o.input),o.output.connect(e.destination),o.output.connect(n),Object(Ot.p)(this.canvas.nativeElement,n),this.form.valueChanges.pipe(Object(Y.a)(this._destroy)).subscribe(({pitch:t})=>{o.setPitchOffset(t)})}onSave(){this.form.valid&&(this.userSetup.store(this.form.value),this.form.markAsPristine(),this._router.navigate(["/","newcode"]),console.log(this.form.value))}onLogin(){this.code.valid?(this.comeInOut.next(!this.comeInOut.value),this.enter=!0,setTimeout(()=>{this._router.navigate(["/",this.code.value])},3e3)):(this.comeInOut.next(!this.comeInOut.value),this.comeInOut.next(!this.comeInOut.value))}ngOnDestroy(){this.stream&&Object(l.b)(this.stream),this._destroy.next(),this._destroy.complete()}onSubmit(){this.form.valid&&(this.userSetup.store(this.form.value),this._router.navigate(["/",jt.a.long()]))}}return t.\u0275fac=function(e){return new(e||t)(h.Nb(c.c),h.Nb(n.b),h.Nb(n.a),h.Nb(o.b))},t.\u0275cmp=h.Hb({type:t,selectors:[["speek-invite"]],viewQuery:function(t,e){if(1&t&&h.Bc(Et,1),2&t){let t;h.nc(t=h.bc())&&(e.canvas=t.first)}},decls:29,vars:4,consts:[["routerLink","/","mat-icon-button",""],[1,"brand-name"],[4,"ngIf"],["canvas",""],["mat-subheader",""],[3,"formGroup"],["min","-1","max","2","step","0.1","thumbLabel","","formControlName","pitch"],["appearance","outline","color","accent"],["matInput","","autofocus","","cdkFocusInitial","",3,"formControl"],["type","button","mat-fab","",3,"disabled","click"],[3,"comeInOut","opened"]],template:function(t,e){1&t&&(h.Tb(0,"speek-toolbar"),h.Tb(1,"a",0),h.Tb(2,"mat-icon"),h.yc(3,"arrow_backward"),h.Sb(),h.Sb(),h.Tb(4,"span",1),h.yc(5,"convidado"),h.Sb(),h.Sb(),h.wc(6,Kt,2,2,"ng-container",2),h.Tb(7,"mat-card"),h.Tb(8,"mat-card-content"),h.Ob(9,"canvas",null,3),h.Ob(11,"mat-divider"),h.Tb(12,"mat-list"),h.Tb(13,"h3",4),h.yc(14," Arraste para ajustar o tom da sua voz "),h.Sb(),h.Sb(),h.Tb(15,"form",5),h.Ob(16,"mat-slider",6),h.Sb(),h.Ob(17,"mat-divider"),h.Tb(18,"mat-form-field",7),h.Tb(19,"mat-label"),h.yc(20,"Entre com o c\xf3digo"),h.Sb(),h.Ob(21,"input",8),h.Tb(22,"mat-hint"),h.yc(23,"C\xf3dgo de acesso"),h.Sb(),h.Tb(24,"mat-error"),h.yc(25,"C\xf3digo inv\xe1lido"),h.Sb(),h.Sb(),h.Sb(),h.Sb(),h.Tb(26,"button",9),h.ac("click",function(){return e.onSubmit()}),h.Tb(27,"mat-icon"),h.yc(28,"phone_forwarded"),h.Sb(),h.Sb()),2&t&&(h.Bb(6),h.jc("ngIf",e.code.valid),h.Bb(9),h.jc("formGroup",e.form),h.Bb(6),h.jc("formControl",e.code),h.Bb(5),h.jc("disabled",e.code.invalid))},directives:[m.a,n.c,b.a,p.a,I.k,S,O,T.a,M.a,M.e,c.r,c.n,c.h,Ft.a,c.m,c.f,P.c,P.g,Bt.a,c.b,c.e,P.f,P.b,b.b,Lt.a],styles:["[_nghost-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:center;align-items:center}[_nghost-%COMP%]   .mat-card[_ngcontent-%COMP%]{display:flex;flex-direction:column}[_nghost-%COMP%]   canvas[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   speek-door[_ngcontent-%COMP%]{position:absolute;visibility:hidden}[_nghost-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:300px;margin:10px}[_nghost-%COMP%]   .mat-slider[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .mat-fab[_ngcontent-%COMP%]{position:absolute;right:20px;bottom:20px}"]}),t})();var Ht=i("UXJo"),Yt=i("Qu3c");const Wt=["tip"],Xt=function(t){return{hide:t}};let Jt=(()=>{class t{constructor(t,e){this._router=t,this._userRoom=e,this.url="https://speek.video/#/invite",this.comeInOut=new d.a(!1),this.form=new c.g({code:new c.d("",[c.q.required,c.q.pattern(jt.a.regex)])})}get enter(){return this.comeInOut.value}get code(){return this.form.get("code")}ngOnInit(){const t=jt.a.long();this.code.setValue(t),this.url=`${this.url}/${t}`}ngAfterViewInit(){this.tip&&(this.showTip=window.setTimeout(()=>{this.tip.show(),this.hideTip=window.setTimeout(()=>{this.tip.hide(),this.tip.message="Copiado",window.clearTimeout(this.hideTip)},2250),window.clearTimeout(this.showTip)},750))}onCopy(t){t.show(),this._userRoom.update(Tt.fromJson(this.form.value)),setTimeout(()=>t.hide(),750),setTimeout(()=>this.comeInOut.next(!0),1e3),setTimeout(()=>this._router.navigate(["/",this.code.value]),3e3)}ngOnDestroy(){this.toggleTip&&window.clearInterval(this.toggleTip)}}return t.\u0275fac=function(e){return new(e||t)(h.Nb(n.b),h.Nb(o.a))},t.\u0275cmp=h.Hb({type:t,selectors:[["speek-create"]],viewQuery:function(t,e){if(1&t&&h.Bc(Wt,1),2&t){let t;h.nc(t=h.bc())&&(e.tip=t.first)}},hostVars:2,hostBindings:function(t,e){2&t&&h.Fb("zoom",e.enter)},decls:21,vars:10,consts:[["routerLink","/","mat-icon-button",""],[1,"brand-name"],[3,"opened"],[3,"ngClass"],[3,"formGroup"],["appearance","outline","color","accent"],["matInput","","autofocus","","type","text","name","code","cdkFocusInitial","","spellcheck","false","formControlName","code"],["matSuffix","","type","button","mat-icon-button","",3,"cdkCopyToClipboard","click"],["matTooltip","Copiar chave","matTooltipPosition","above"],["tip","matTooltip"]],template:function(t,e){if(1&t){const t=h.Ub();h.Tb(0,"speek-toolbar"),h.Tb(1,"a",0),h.Tb(2,"mat-icon"),h.yc(3,"arrow_backward"),h.Sb(),h.Sb(),h.Tb(4,"span",1),h.yc(5,"come\xe7ar"),h.Sb(),h.Sb(),h.Ob(6,"speek-door",2),h.fc(7,"async"),h.Tb(8,"mat-card",3),h.fc(9,"async"),h.Tb(10,"form",4),h.Tb(11,"mat-form-field",5),h.Tb(12,"mat-label"),h.yc(13,"Copie sua chave clicando ao lado"),h.Sb(),h.Ob(14,"input",6),h.Tb(15,"mat-hint"),h.yc(16,"Voc\xea precisa copiar a chave antes de entrar"),h.Sb(),h.Tb(17,"button",7),h.ac("click",function(){h.qc(t);const i=h.oc(19);return e.onCopy(i)}),h.Tb(18,"mat-icon",8,9),h.yc(20," content_copy "),h.Sb(),h.Sb(),h.Sb(),h.Sb(),h.Sb()}2&t&&(h.Bb(6),h.jc("opened",h.gc(7,4,e.comeInOut)),h.Bb(2),h.jc("ngClass",h.lc(8,Xt,h.gc(9,6,e.comeInOut))),h.Bb(2),h.jc("formGroup",e.form),h.Bb(7),h.jc("cdkCopyToClipboard",e.url))},directives:[m.a,n.c,b.a,p.a,Lt.a,S,I.i,c.r,c.n,c.h,P.c,P.g,Bt.a,c.b,c.m,c.f,P.f,b.b,P.h,Ht.a,Yt.a],pipes:[I.b],styles:["[_nghost-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:space-evenly;align-items:center}[_nghost-%COMP%]   speek-door[_ngcontent-%COMP%]{transition:transform 3s ease-in-out}.zoom[_nghost-%COMP%]   speek-door[_ngcontent-%COMP%]{transform:scale(5)}[_nghost-%COMP%]   .mat-card[_ngcontent-%COMP%]{visibility:visible;color:#fff;transition:visibility 1.5s ease-in-out,opacity 1.5s ease-in-out}[_nghost-%COMP%]   .mat-card.hide[_ngcontent-%COMP%]{visibility:hidden;opacity:0}[_nghost-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:300px;margin:10px}[_nghost-%COMP%]   .mat-form-field[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{animation:flicker-1 2s linear infinite both}@keyframes flicker-1{0%,to{color:#fff}41.99%{color:#fff}42%{color:#00bcd4}44.80%{color:#00bcd4}45.01%{color:#fff}47.99%{color:#fff}48%{color:#00bcd4}49%{color:#00bcd4}49.01%{color:#fff}}"]}),t})();var Ut=i("EY2u"),Qt=i("0IaG");let $t=(()=>{class t{constructor(t,e,i){this._router=t,this._dialog=e,this.userSetup=i}canDeactivate(t,e,i,n){return t.localStream.active?this._dialog.open(Ot.b,{data:{header:"Finalizar chamada",body:"Cancele para continuar na chamada ou encerre confirmando"}}).afterClosed():Ut.a}canActivate(t,e){const i=t.paramMap.get("code");if(jt.a.isValid(i)){const{pitch:t}=this.userSetup.getStoredValue();return!!Object(jt.e)(t)||this._router.navigate(["/","invite",i])}}}return t.\u0275fac=function(e){return new(e||t)(h.Xb(n.b),h.Xb(Qt.b),h.Xb(o.b))},t.\u0275prov=h.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Zt=(()=>{class t{constructor(t,e){this._dialog=t,this._router=e}canDeactivate(t,e,i,n){return console.log(e),console.log(i),console.log(n),!0}canActivate(t,e){const i=t.paramMap.get("code");return!!jt.a.isValid(i)||this._dialog.open(Ot.n,{data:jt.a.long()}).afterClosed().pipe(Object(z.a)(({response:t,pitch:e})=>(console.log("response: ",t),console.log("pitch: ",e),this._router.navigate(["/",null!=t?t:""],{queryParams:{pitch:e}}))))}}return t.\u0275fac=function(e){return new(e||t)(h.Xb(Qt.b),h.Xb(n.b))},t.\u0275prov=h.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),te=(()=>{class t{}return t.\u0275mod=h.Lb({type:t}),t.\u0275inj=h.Kb({factory:function(e){return new(e||t)},imports:[[n.d.forChild([{path:"",component:xt},{path:"dialup",component:St},{path:"create",component:Jt},{path:"voice",component:zt},{path:"camera",component:yt},{path:"invite",component:Gt},{path:"invite/:code",component:Gt},{path:":code",canActivate:[$t],canDeactivate:[$t],component:At},{path:":code/hall",canDeactivate:[Zt],component:Rt}])],n.d]}),t})();var ee=i("wZkO"),ie=i("GU7r");let ne=(()=>{class t{}return t.\u0275mod=h.Lb({type:t}),t.\u0275inj=h.Kb({factory:function(e){return new(e||t)}}),t})(),ae=(()=>{class t{}return t.\u0275mod=h.Lb({type:t}),t.\u0275inj=h.Kb({factory:function(e){return new(e||t)},imports:[[g.o,g.g,ie.c,ne],g.g,ne]}),t})();var oe=i("+rOU");i("LRne");let se=(()=>{class t{}return t.\u0275mod=h.Lb({type:t}),t.\u0275inj=h.Kb({factory:function(e){return new(e||t)},imports:[[X.a]]}),t})(),re=(()=>{class t{constructor(){this.changes=new R.a,this.optionalLabel="Optional"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(h.Jb)({factory:function(){return new t},token:t,providedIn:"root"}),t})();const ce={provide:re,deps:[[new h.B,new h.K,re]],useFactory:function(t){return t||new re}};let le=(()=>{class t{}return t.\u0275mod=h.Lb({type:t}),t.\u0275inj=h.Kb({factory:function(e){return new(e||t)},providers:[ce,g.c],imports:[[g.g,I.c,oe.f,b.c,se,p.b,g.o],g.g]}),t})();var de=i("/t3+"),he=i("XhcP");let me=(()=>{class t{}return t.\u0275mod=h.Lb({type:t}),t.\u0275inj=h.Kb({factory:function(e){return new(e||t)},imports:[[g.i,g.g],g.i,g.g]}),t})();i("quSY");let be=(()=>{class t{}return t.\u0275mod=h.Lb({type:t}),t.\u0275inj=h.Kb({factory:function(e){return new(e||t)}}),t})(),pe=(()=>{class t{}return t.\u0275mod=h.Lb({type:t}),t.\u0275inj=h.Kb({factory:function(e){return new(e||t)},imports:[[I.c,g.g,be,oe.f]]}),t})();i("nLfN");let ue=(()=>{class t{}return t.\u0275mod=h.Lb({type:t}),t.\u0275inj=h.Kb({factory:function(e){return new(e||t)},imports:[[g.g,I.c],g.g]}),t})(),ge=(()=>{class t{}return t.\u0275mod=h.Lb({type:t}),t.\u0275inj=h.Kb({factory:function(e){return new(e||t)},imports:[[g.g,g.o],g.g]}),t})(),fe=(()=>{class t{}return t.\u0275mod=h.Lb({type:t}),t.\u0275inj=h.Kb({factory:function(e){return new(e||t)},imports:[M.d,k,ee.c,p.b,Ft.b,me,ft,Yt.b,Bt.b,b.c,D.d,T.b,ae,de.b,he.d,le,pe,P.e,ge,ue]}),t})(),ve=(()=>{class t{}return t.\u0275mod=h.Lb({type:t}),t.\u0275inj=h.Kb({factory:function(e){return new(e||t)},imports:[[I.c,p.b,Ft.b,ft,b.c,de.b,P.e,c.p],c.p]}),t})();var _e=i("0MNC");let ye=(()=>{class t{}return t.\u0275mod=h.Lb({type:t}),t.\u0275inj=h.Kb({factory:function(e){return new(e||t)},imports:[[I.c,A.a,oe.f,Ot.e,Ot.o,Ot.a,Ot.j,ve,Ot.h,_e.c,Ot.d,Ot.i,Ot.l,fe,Ht.b,c.p,te]]}),t})()}}]);